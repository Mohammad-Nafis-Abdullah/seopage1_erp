{"version":3,"file":"js/react/resources_js_components_single-task_section_task-actions_Revision_RevisionModal_jsx.js","mappings":"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","sources":["webpack:///./resources/js/components/single-task/section/task-actions/Revision/RevisionModal.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport CKEditorComponent from \"../../../../ckeditor\";\r\nimport Button from \"../../../components/Button\";\r\nimport { useClickAway } from \"react-use\";\r\n\r\nconst RevisionModal = ({\r\n    isOpen,\r\n    close,\r\n    onSubmitForm,\r\n    isSubmitting = false,\r\n    task,\r\n}) => {\r\n    const [reason, setReason] = useState(\"\");\r\n    const [reasonError, setReasonError] = useState(\"\");\r\n    const [comment, setComment] = useState(\"\");\r\n    const [commentError, setCommentError] = useState(\"\");\r\n\r\n    const ref = useRef(null);\r\n\r\n    // outside click\r\n    useClickAway(ref, close);\r\n\r\n    // radio button change\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n        setReason(e.target.value);\r\n    };\r\n\r\n    // editor change text \r\n    const hanldeEditorTextChange= (editor) => {\r\n        const data = editor.getData();\r\n        setComment(data);\r\n    }\r\n\r\n    // validation\r\n    const validate = () => {\r\n       let errorCount = 0;\r\n       \r\n       if(!comment || comment === \"\"){\r\n        errorCount ++;\r\n        setCommentError('You have to explain the revision in details, so that lead developer/developer can understand where they need to work.')     \r\n       }\r\n\r\n       if(!reason){\r\n        errorCount ++;\r\n        setCommentError('You have to select a reason from below options')\r\n       }\r\n\r\n       return errorCount === 0;\r\n        \r\n    }\r\n\r\n    // handle submiton\r\n    const handleSubmition=(e)=>{\r\n        e.preventDefault();\r\n        const data = {\r\n            task_id: task?.id,\r\n            reason,\r\n            comment\r\n        }\r\n        \r\n        if(validate){\r\n           console.log(data)\r\n        }else{\r\n            console.log('Your forgot to fillup some requried fields')\r\n        } \r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div\r\n                ref={ref}\r\n                className=\"sp1_single_task--modal-panel\"\r\n                style={{ maxWidth: \"550px\" }}\r\n            >\r\n                <div className=\"border-bottom pb-2 px-3 mb-3 d-flex align-items-center justify-content-between\">\r\n                    <div className=\"font-weight-bold f-14\">\r\n                        Revision - Task: {task?.id}#\r\n                        {task?.title || task?.heading}\r\n                    </div>\r\n                    <Button onClick={close} className=\"\">\r\n                        <i className=\"fa-solid fa-xmark\" />\r\n                    </Button>\r\n                </div>\r\n\r\n                <form className=\"px-3\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"\" className=\"font-weight-bold\">\r\n                            Select Reason for Revision<sup className=\"f-16\">*</sup> :\r\n                        </label>\r\n                        <div className=\"px-3\">\r\n                            <div className=\"form-check d-flex align-items-start mb-2\">\r\n                                <input\r\n                                    className=\"form-check-input mr-2\"\r\n                                    type=\"radio\"\r\n                                    name=\"exampleRadios\"\r\n                                    id=\"exampleRadios1\"\r\n                                    required= {true}\r\n                                    value=\"Task Has Revision Because Requirements Are\r\n                                    Not Fullfilled Accordiong To My Instructions\"\r\n                                    style={{\r\n                                        width: \"16px\",\r\n                                        height: \"16px\",\r\n                                        marginTop: \"3px\",\r\n                                    }}\r\n                                    \r\n                                />\r\n                                <label\r\n                                    className=\"form-check-label\"\r\n                                    htmlFor=\"exampleRadios1\"\r\n                                    style={{ marginBottom: \"3px\" }}\r\n                                >\r\n                                    Task Has Revision Because Requirements Are\r\n                                    Not Fullfilled Accordiong To My Instructions\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"form-check d-flex align-items-start mb-2\">\r\n                                <input\r\n                                    className=\"form-check-input mr-2\"\r\n                                    type=\"radio\"\r\n                                    name=\"exampleRadios\"\r\n                                    id=\"exampleRadios2\"\r\n                                    required= {true}\r\n                                    value=\"Task Has Revision Because I Have Customized\r\n                                    Previous Instructions\"\r\n                                    style={{\r\n                                        width: \"16px\",\r\n                                        height: \"16px\",\r\n                                        marginTop: \"3px\",\r\n                                    }}\r\n                                />\r\n                                <label\r\n                                    className=\"form-check-label\"\r\n                                    htmlFor=\"exampleRadios2\"\r\n                                    style={{ marginBottom: \"3px\" }}\r\n                                >\r\n                                    Task Has Revision Because I Have Customized\r\n                                    Previous Instructions\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"form-check d-flex align-items-start mb-2\">\r\n                                <input\r\n                                    className=\"form-check-input mr-2\"\r\n                                    type=\"radio\"\r\n                                    name=\"exampleRadios\"\r\n                                    id=\"exampleRadios3\"\r\n                                    required= {true}\r\n                                    value=\"Task Has Revision Because I Have Added\r\n                                    Additional Instructions To Previous\r\n                                    Instructions\"\r\n                                    style={{\r\n                                        width: \"16px\",\r\n                                        height: \"16px\",\r\n                                        marginTop: \"3px\",\r\n                                    }}\r\n                                />\r\n                                <label\r\n                                    className=\"form-check-label mb-1\"\r\n                                    htmlFor=\"exampleRadios3\"\r\n                                    style={{ marginBottom: \"3px\" }}\r\n                                >\r\n                                    Task Has Revision Because I Have Added\r\n                                    Additional Instructions To Previous\r\n                                    Instructions\r\n                                </label>\r\n                            </div> \r\n                        </div>\r\n                        {reasonError && <small id=\"emailHelp\" className=\"form-text text-danger\">{reasonError}</small>}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"\" className=\"font-weight-bold\"> \r\n                            Explain or Comment<sup className=\"f-16\">*</sup> :\r\n                        </label>\r\n                        <div className=\"ck-editor-holder\">\r\n                            <CKEditorComponent onChange={hanldeEditorTextChange}/>\r\n                        </div> \r\n                        {commentError && <small id=\"emailHelp\" className=\"form-text text-danger\">{commentError}</small>}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div className=\"mt-3 d-flex align-items-center\">\r\n                            <Button onClick={close} variant=\"tertiary\" className=\"ml-auto mr-2\">\r\n                                Close\r\n                            </Button>\r\n\r\n                            {!isSubmitting ? (\r\n                                <React.Fragment>\r\n                                    <Button onClick={handleSubmition}>Submit</Button>\r\n                                </React.Fragment>\r\n                            ) : (\r\n                                <React.Fragment>\r\n                                    <Button className=\"cursor-processing\">\r\n                                        <div\r\n                                            className=\"spinner-border text-white\"\r\n                                            role=\"status\"\r\n                                            style={{\r\n                                                width: \"18px\",\r\n                                                height: \"18px\",\r\n                                            }}\r\n                                        />{\" \"}\r\n                                        Processing...\r\n                                    </Button>\r\n                                </React.Fragment>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default RevisionModal;\r\n"],"names":["React","useState","useRef","CKEditorComponent","Button","useClickAway","jsxs","_jsxs","jsx","_jsx","RevisionModal","_ref","isOpen","close","onSubmitForm","_ref$isSubmitting","isSubmitting","task","_useState","_useState2","_slicedToArray","reason","setReason","_useState3","_useState4","reasonError","setReasonError","_useState5","_useState6","comment","setComment","_useState7","_useState8","commentError","setCommentError","ref","handleChange","e","preventDefault","target","value","hanldeEditorTextChange","editor","data","getData","validate","errorCount","handleSubmition","task_id","id","console","log","Fragment","children","className","style","maxWidth","title","heading","onClick","htmlFor","type","name","required","width","height","marginTop","marginBottom","onChange","variant","role"],"sourceRoot":""}