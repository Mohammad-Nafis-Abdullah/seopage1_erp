{"version":3,"file":"js/react/resources_js_react_single-independent-task_section_task-actions_stop-timer_options_UserSelect-e9d5b6.js","mappings":"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","sources":["webpack:///./resources/js/react/single-independent-task/section/task-actions/stop-timer/options/UserSelectionList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useUsers } from \"../../../../../hooks/useUsers\";\nimport { User } from \"../../../../../utils/user-details\";\nimport { Combobox } from \"@headlessui/react\";\nimport _ from \"lodash\";\nimport { HiOutlineSelector } from \"react-icons/hi\";\n\nconst UserSelectionList = ({ person, setPerson, filter, roles=[] }) => {\n    const { users, usersIsFetching } = useUsers();\n    const [search, setSearch] = useState(\"\");\n\n    let _user = _.filter(users, (user) => !_.isNull(user.role_id));\n\n    if(roles && _.size(roles) > 0){\n        _user = _.filter(users, (user) => _.includes(roles, Number(user.role_id))); \n    }else if(filter){\n        switch (filter) {\n            case 'client':\n                _user = _.filter(users, (user) => _.isNull(user.role_id)); \n                break;\n            case 'developer': \n                _user = _.filter(users, (user) => _.includes([5, 8, 10], Number(user.role_id))); \n                break;\n            default:\n                break;\n        }\n    }\n\n    let filteredUsers =\n        search === \"\"\n            ? _user\n            : _user?.filter((user) =>\n                  _.lowerCase(user.name).includes(_.lowerCase(search))\n              );\n\n    return (\n        <div className=\"position-relative w-100 mb-3\">\n            \n            <Combobox value={person} onChange={setPerson}>\n                <Combobox.Button className=\"position-relative w-100\">\n                    <Combobox.Input\n                        className=\"w-100 bg-white py-2 pl-2 pr-1 border d-flex align-items-center justify-content-between\"\n                        displayValue={(person) => person?.name}\n                        onChange={(e) => setSearch(e.target.value)}\n                        placeholder=\"--\"\n                    />\n\n                    {/* Selection box icon */}\n                    <span\n                        style={{\n                            position: \"absolute\",\n                            top: \"50%\",\n                            right: \"5px\",\n                            transform: \"translateY(-50%)\",\n                        }}\n                    >\n                        <HiOutlineSelector />\n                    </span>\n                </Combobox.Button>\n\n                <Combobox.Options\n                    className=\"position-absolute bg-white p-2 shadow w-100\"\n                    style={{\n                        zIndex: 10,\n                        maxHeight: \"350px\",\n                        overflowY: \"auto\",\n                    }}\n                >\n                    {filteredUsers && filteredUsers.length ? (\n                        filteredUsers.map((user) => (\n                            <Combobox.Option\n                                key={user.id}\n                                value={user}\n                                className={({ selected, active }) =>\n                                selected\n                                    ? \"task-selection-list-option selected\"\n                                    : active\n                                    ? \"task-selection-list-option active\"\n                                    : \"task-selection-list-option\"\n                            }\n                            >\n                                {({selected}) => (\n                                    <div className=\"d-flex align-items-center bg-transparent f-14\" style={{ gap: \"10px\" }}>\n                                        <img\n                                            src={user?.image_url}\n                                            alt={user?.name}\n                                            width={24}\n                                            height={24}\n                                            className=\"rounded-circle\"\n                                        />\n                                        \n                                        {selected}\n                                        <span className=\"w-100\">{user?.name} <span className=\"badge badge-success\">{user?.employee_detail?.designation?.name}</span></span>\n\n                                        {selected && <span className=\"ml-auto\"> <i className=\"fa-solid fa-check text-white\" /> </span> }\n                                    </div>\n                                )}\n                            </Combobox.Option>\n                        ))\n                    ) : (\n                        <div className=\"task-selection-list-option\">\n                            {usersIsFetching ? \"Loading...\" : \"Nothing found.\"}\n                        </div>\n                    )}\n                </Combobox.Options>\n            </Combobox>\n        </div>\n    );\n};\n\nexport default UserSelectionList;\n\n// const UserList = (props) => {\n//     const user = new User(props.user);\n\n//     if (!user?.getRoleId()) return null;\n//     return (\n        \n//     );\n// };\n"],"names":["React","useState","useUsers","User","Combobox","_","HiOutlineSelector","jsx","_jsx","jsxs","_jsxs","UserSelectionList","_ref","_user2","person","setPerson","filter","_ref$roles","roles","_useUsers","users","usersIsFetching","_useState","_useState2","_slicedToArray","search","setSearch","_user","user","isNull","role_id","size","includes","Number","filteredUsers","lowerCase","name","className","children","value","onChange","Button","Input","displayValue","e","target","placeholder","style","position","top","right","transform","Options","zIndex","maxHeight","overflowY","length","map","Option","_ref2","selected","active","_ref3","_user$employee_detail","gap","src","image_url","alt","width","height","employee_detail","designation","id"],"sourceRoot":""}