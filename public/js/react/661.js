/*! For license information please see 661.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[661],{7285:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(67294),i=n(93379),s=n.n(i),l=n(93519),a={insert:"head",singleton:!1};s()(l.Z,a);l.Z.locals;var o=n(37278),c=n(85893),d=["id","deleteAble","onRemove","downloadAble","downloadUrl","fileType","fileName","previewUrl","ext","classname","size"];function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=r.createContext(),j=function(e){var t=e.filename,n=e.size,r=t.split("."),i=r[r.length-1],s=(null==t?void 0:t.slice(0,2))+".."+(null==t?void 0:t.slice(t.length-(i.length+2),null==t?void 0:t.length));return(0,c.jsxs)("div",{className:"uploaded-file-preview","data-toggle":"tooltip","data-placement":"top",title:t,children:[(0,c.jsxs)("div",{className:"__icon",children:[(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",children:(0,c.jsx)("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"})}),(0,c.jsx)("span",{className:"uploaded-file-ext uploaded-file-ext-".concat(n),children:null==i?void 0:i.slice(0,3)})]}),(0,c.jsx)("span",{className:"d-block uploaded-file-name uploaded-file-name-".concat(n),children:s})]})},b=function(e){var t=e.files,n=e.setFiles,i=e.children,s=e.className,l=void 0===s?"":s,a=u(r.useState(""),2),o=a[0],d=a[1];return(0,c.jsx)(y.Provider,{value:{files:t,setFiles:n,previews:o,setPreviews:d},children:(0,c.jsx)("div",{className:"d-flex flex-wrap align-items-center ".concat(l),style:{gap:"10px"},children:i})})};b.Input=function(e){var t=e.className,n=void 0===t?"":t,i=r.useContext(y),s=i.setFiles,l=i.previews,a=i.setPreviews;return(0,c.jsxs)("div",{className:"sp1_file_upload--input-wrapper ".concat(n),children:[(0,c.jsx)("input",{type:"file",multiple:!0,onChange:function(e){var t=e.target.files;s((function(e){return[].concat(v(e),v(t))}));for(var n=[],r=function(e){var r=new FileReader,i=t[e];r.onload=function(e){var r=i.name.split("."),s=r[r.length-1];n.push({name:i.name,type:i.type,preview:e.target.result,ext:s}),n.length===t.length&&a([].concat(v(l),n))},r.readAsDataURL(i)},i=0;i<t.length;i++)r(i)},className:"sp1_file_upload--input"}),(0,c.jsx)("i",{className:"fa-solid fa-cloud-arrow-up"}),(0,c.jsx)("span",{className:"mt-2",children:"Upload Files"})]})},b.Preview=function(e){var t=e.id,n=e.deleteAble,r=void 0===n||n,i=e.onRemove,s=e.downloadAble,l=void 0===s||s,a=e.downloadUrl,u=void 0===a?"#":a,m=e.fileType,f=void 0===m?"":m,v=e.fileName,x=void 0===v?"":v,g=e.previewUrl,y=void 0===g?"":g,b=(e.ext,e.classname,e.size),N=void 0===b?"sm":b,w=p(e,d);return(0,c.jsx)("a",{href:u,download:l,children:(0,c.jsxs)("div",h(h({className:"sp1_file_upload--input-preview"},w),{},{children:[r&&(0,c.jsx)(o.Z,{type:"button",onClick:function(e){e.stopPropagation(),i(e,t)},className:"__remove--btn",children:(0,c.jsx)("i",{className:"fa-regular fa-trash-can"})}),"images"===f||f.startsWith("image/")?(0,c.jsx)("img",{src:y,alt:x,style:{width:"100%",height:"100%",maxWidth:"80px",maxHeight:"80px",objectFit:"fill"}}):(0,c.jsx)(j,{filename:x,size:N})]}))})},b.SelectedFiles=function(e){var t=e.children,n=r.useContext(y),i=n.previews,s=n.files,l=n.setFiles,a=n.setPreviews;return t({previews:i,onDelete:function(e,t){var n=v(i),r=v(s);r.splice(t,1),n.splice(t,1),l(r),a(n)}})};const N=b},52661:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Oi});var r=n(67294),i=n(51526),s=n(90924),l=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const m=function(e){var t=e.expendable,n=void 0===t||t,a=e.children,c=e.title,u=e.headingClass,m=e.headingStyle,h=d(r.useState(!1),2),f=h[0],p=h[1],v=n?0:300;return(0,l.jsxs)("div",{className:"sp1_task_card mb-4",children:[(0,l.jsxs)("div",{className:"sp1_task_card--head ".concat(u),onClick:function(){return n?void p(!f):null},style:o(o({},m),{},{cursor:n?"pointer":"default"}),children:[" ",c,n?f?(0,l.jsx)("span",{className:"__icon",children:(0,l.jsx)("i",{className:"fa-solid fa-chevron-up"})}):(0,l.jsx)("span",{className:"__icon",children:(0,l.jsx)("i",{className:"fa-solid fa-chevron-down"})}):null]}),(0,l.jsx)(i.M,{children:n?f&&(0,l.jsx)(s.E.div,{initial:{height:v},animate:{height:800},exit:{height:0},className:"sp1_task_card--body",children:a}):(0,l.jsx)("div",{className:"sp1_task_card--body",children:a})})]})};var h=n(54324),f=n(69293),p=n(96486),v=n.n(p);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const y=function(e){var t=e.text,n=e.editorContainerClass,i=e.workEnv,s=x((0,r.useState)(!1),2),a=s[0],o=s[1],c=(null==t?void 0:t.length)>400,d=c?t.slice(0,400)+"...":t,u=(0,r.useRef)();return(0,f.Z)(u,(function(){o(!1)})),(0,l.jsxs)("div",{className:"sp1_task_card--sub-card",children:[(0,l.jsx)("div",{className:"sp1_ck_content sp1_guideline_text ".concat(n),dangerouslySetInnerHTML:{__html:d}}),c?(0,l.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),o(!a)},className:"",children:" Read full guideline "}):"",(0,l.jsx)(h.Z,{className:"sp1_task_card--sub-card-modal",isOpen:a,children:(0,l.jsxs)("div",{ref:u,className:"sp1_task_card--sub-card-modal-content",children:[(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-between __header",children:(0,l.jsx)("button",{onClick:function(){return o(!1)},children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),!v().isEmpty(i)&&(0,l.jsx)("div",{className:"sp1_task_card--sub-card m-4",children:(0,l.jsxs)("div",{className:"px-4 py-3",style:{background:"#F3F5F9"},children:[(0,l.jsx)("h6",{className:"mb-2",children:"Working Environment"}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Working/Staging Site's URL"}),": ",(0,l.jsx)("br",{})," ",(0,l.jsx)("a",{target:"__blank",href:null==i?void 0:i.site_url,children:"View on new tab"})]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Frontend Password"}),": ",(0,l.jsx)("br",{})," ",null==i?void 0:i.frontend_password]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Working/Staging Site's Login URL"}),": ",(0,l.jsx)("br",{})," ",(0,l.jsx)("a",{target:"__blank",href:null==i?void 0:i.login_url,children:"View on new tab"})," "]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Working/Staging Site's Username/Email"}),": ",(0,l.jsx)("br",{})," ",null==i?void 0:i.email]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Password"}),": ",(0,l.jsx)("br",{})," ",null==i?void 0:i.password]})})]})]})}),(0,l.jsx)("div",{className:"__content",children:(0,l.jsx)("div",{className:"sp1_ck_content word-break ".concat(n),dangerouslySetInnerHTML:{__html:t}})}),(0,l.jsx)("div",{className:" __footer",children:(0,l.jsx)("button",{className:"btn btn-sm py-1 btn-primary ml-auto",onClick:function(){return o(!1)},children:"Close"})})]})})]})};var j=n(49439),b=n(55300);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const k=function(e){var t=e.text,n=e.index,i=e.date,s=e.time,a=e.revision,o=N(r.useState(!1),2),c=o[0],d=o[1],u=r.useRef(),m=(null==t?void 0:t.length)>800,h=m?(null==t?void 0:t.slice(0,800))+"...":t;return(0,f.Z)(u,(function(){d(!1)})),(0,l.jsxs)("div",{className:"sp1_task_card--sub-card",style:{minHeight:"110px"},children:[(0,l.jsxs)("div",{className:"sp1_tc_sc-inx",children:[(0,l.jsx)("h2",{children:n}),(0,l.jsxs)("span",{className:"d-block",children:[(0,l.jsx)("strong",{children:"Date"})," ",i," "]}),(0,l.jsxs)("span",{className:"d-block",children:[(0,l.jsx)("strong",{children:"Time"}),": ",s]})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("span",{className:"d-block mb-2",children:[(0,l.jsxs)("span",{className:"font-weight-bold text-danger",children:[" ",(0,l.jsx)("strong",{children:"Reason: "}),"  "]}),null==a?void 0:a.revisionAcknowledgement," "," ",null!=a&&a.isDeny?(0,l.jsx)("span",{className:"badge badge-danger",children:"Rejected By Developer"}):null,null!=a&&a.isAccept?(0,l.jsx)("span",{className:"badge badge-success",children:"Accepted By Developer"}):null]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-weight-bold text-success",children:"Statement:"}),(0,l.jsx)("div",{className:"sp1_ck_content",style:{textIndent:"2rem"},dangerouslySetInnerHTML:{__html:h}})]}),m?(0,l.jsx)("a",{href:"#",className:"ml-2",onClick:function(e){e.preventDefault(),d(!c)},children:"Read full guideline"}):"",(0,l.jsx)(j.Z,{className:"sp1_task_card--sub-card-modal",isOpen:c,children:(0,l.jsxs)("div",{ref:u,className:"sp1_task_card--sub-card-modal-content",children:[(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-between __header",children:(0,l.jsx)("button",{onClick:function(){return d(!1)},children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsxs)("div",{className:"__content",children:[(0,l.jsxs)("div",{className:"sp1_tc_sc-inx",children:[(0,l.jsx)("h2",{children:n}),(0,l.jsxs)("span",{className:"d-block",children:[(0,l.jsx)("strong",{children:"Date"})," ",i," "]}),(0,l.jsxs)("span",{className:"d-block",children:[(0,l.jsx)("strong",{children:"Time"}),": ",s]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:"d-block mb-2",children:[" ",(0,l.jsx)("span",{className:"font-weight-bold text-danger",children:(0,l.jsx)("strong",{children:"Reason: "})})," ",null==a?void 0:a.revisionAcknowledgement]}),(0,l.jsx)("span",{className:"font-weight-bold text-success",children:"Commitment:"}),(0,l.jsx)("div",{className:"sp1_ck_content",style:{textIndent:"2rem"},dangerouslySetInnerHTML:{__html:t}})]})]}),(0,l.jsx)("div",{className:" __footer",children:(0,l.jsx)("button",{className:"btn btn-sm py-1 btn-primary ml-auto",onClick:function(){return d(!1)},children:"Close"})})]})})]})]})};var A=n(22367);const S=function(e){e.isOpen;var t=e.close,n=e.comment;return(0,l.jsx)("div",{className:"sp1_st_comment_preview",children:(0,l.jsxs)("div",{className:"sp1_st_comment_panel",children:[(0,l.jsx)("div",{className:"border-bottom pb-2 d-flex align-items-center",children:(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:t,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsx)("div",{className:"_comment_list mt-3",children:(0,l.jsx)(A.default,{comment:n})})]})})};var C=n(2108),O=n(27484),I=n.n(O);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const D=function(e){var t=e.comment,n=T(r.useState(!1),2),i=n[0],s=n[1],a=null!=t&&t.user?new C.n(t.user):null;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between sp1_tark_right_item align-items-start pt-1 pb-2",children:[(0,l.jsxs)("div",{className:"w-100 sp1_st_comment-view",style:{overflow:"hidden"},children:[(0,l.jsxs)("p",{className:"mb-0 pb-0",children:[(0,l.jsx)("a",{href:null==a?void 0:a.getUserLink(),className:"hover-underline text-primary",children:null==a?void 0:a.getName()})," add a comment"]}),(0,l.jsx)("p",{className:"text-ellipsis d-flex align-items-center mb-0 pb-0",style:{color:"#AEAFB9"},children:(null==t?void 0:t.last_updated_at)&&(0,l.jsxs)(l.Fragment,{children:[I().unix(null==t?void 0:t.last_updated_at).format("MMM DD, YYYY ")," at  ",I().unix(null==t?void 0:t.last_updated_at).format("hh:mm a")]})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("a",{href:"#",className:"mr-2 py-2 sp1_task_righ_action_btn ".concat(i?"text-primary":""),onClick:function(e){e.preventDefault(),s(!i)},children:(0,l.jsx)("i",{className:"fa-regular fa-eye"})}),(0,l.jsx)("a",{href:"#",className:"mr-2 py-2 sp1_task_righ_action_btn",children:(0,l.jsx)("i",{className:"fa-regular fa-pen-to-square"})})]})]}),(0,l.jsx)(h.Z,{Modal:!0,className:"sp1_st_cnt_modal",isOpen:i,children:(0,l.jsx)(S,{isOpen:i,close:function(){return s(!1)},comment:t})})]})};var F=n(81155),B=n(72185),L=n(41248),P=n(10733);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const U=function(e){var t,n,i=e.onCommentPost,s=e.task,a=R(r.useState(!1),2),o=a[0],c=a[1],d=R(r.useState(""),2),u=d[0],m=d[1],h=R(r.useState([]),2),f=h[0],p=h[1],v=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),x=R((0,P.Yc)(),2),g=x[0],y=x[1].isLoading,j=function(e,t){var n=t.getData();m(n)},N=function(e){e.preventDefault();var t=new FormData;t.append("comment",u),t.append("task_id",null==s?void 0:s.id),t.append("_token",document.querySelector("meta[name='csrf-token']").getAttribute("content")),Array.from(f).forEach((function(e){t.append("file[]",e)})),g({data:t,task_id:null==s?void 0:s.id}).unwrap().then((function(e){c(!1),m(""),p("");var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);t.last_updated_at=I()(null==e?void 0:e.last_updated_at).unix(),i(t)})).catch((function(e){return console.log(e)}))};return(0,l.jsxs)("div",{className:"sp1_task_comment_send_box",children:[(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"__avatar rounded-circle mr-2",style:{width:"36px",height:"36px"},children:(0,l.jsx)("img",{src:null==v?void 0:v.getAvatar(),alt:"sender_name",width:"36px",height:"36px",className:"rounded-circle"})})}),(0,l.jsx)("div",{className:"__send-box",children:o?(0,l.jsxs)("div",{className:"w-100",children:[(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{data:u,onChange:j})}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("h6",{children:"Attach Files"}),(0,l.jsx)(B.Z,{files:f,setFiles:p,uploadInputClass:"comment-file-upload",fileWrapperClass:"comment-uploaded-file"})]}),(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[y?(0,l.jsxs)(b.Z,{className:"cursor-processing mr-2",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):(0,l.jsx)(b.Z,{className:"mr-2",onClick:N,children:"Send"}),(0,l.jsx)(b.Z,{variant:"secondary",onClick:function(){return c(!1)},children:"Close"})]})]}):(0,l.jsx)("div",{onClick:function(){return c(!0)},className:"__box",children:(0,l.jsx)("span",{children:"Write a comment ..."})})})]})};var z=n(73935),V=n(40867);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const J=function(e){var t=e.toggleRef,n=void 0===t?null:t,a=e.isOpen,o=(e.close,e.children),c=G(r.useState(null),2),d=c[0],u=c[1],m=(0,V.D)(n,d,{placement:"left-start",modifiers:[{name:"offset",options:{offset:[0,0]}}]}),h=m.styles,f=m.attributes;return(0,l.jsx)("div",q(q({ref:u,style:q(q({},h.popper),{},{pointerEvents:a?"all":"none",zIndex:99})},f.popper),{},{children:(0,l.jsx)(i.M,{children:a&&(0,l.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"",children:[o,(0,l.jsx)(X,{})]})})}))};var X=function(){return z.createPortal((0,l.jsx)("div",{style:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,zIndex:90,background:"rgba(0,0,0,.1)"}}),document.querySelector("#sp1SingleTaskPageModal"))},K=n(72977),Q=n(57046);const ee=function(){return(0,l.jsx)("div",{className:"sp1_task_comment_send_box sp1_task_comment_replied pl-2 pb-2",children:(0,l.jsxs)("div",{className:"__send-box flex-column align-items-start",style:{maxWidth:"100%"},children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("div",{className:"mr-2",children:(0,l.jsx)("div",{className:"rounded-circle",children:(0,l.jsx)(Q.V,{width:"32px",height:"32px",type:"circle",className:"rounded-circle"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(Q.V,{width:"140px"}),(0,l.jsx)(Q.V,{width:"80px",height:"10px",className:"mt-2"})]})]}),(0,l.jsxs)("div",{className:"__box __reply_text w-100 my-1 text-dark",children:[(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"50%",className:"mb-2"})]})]})})};var te=r.lazy((function(){return Promise.resolve().then(n.bind(n,22367))}));const ne=function(e){var t=e.toggleRef,n=void 0===t?null:t,i=e.isOpen,s=e.close,a=e.task,o=e.comments,c=void 0===o?[]:o,d=e.onCommentPost,u=(0,K.Z)().width;return(0,l.jsx)(r.Fragment,{children:u>1200?(0,l.jsx)(J,{toggleRef:n,isOpen:i,children:(0,l.jsxs)("div",{className:"sp1_task_comment_modal",children:[(0,l.jsx)("div",{className:"border-bottom pb-2 d-flex align-items-center",children:(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal ml-auto",onClick:s,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsxs)("div",{className:"d-flex flex-column pt-3",children:[(0,l.jsx)(U,{onCommentPost:d,task:a}),(0,l.jsxs)("div",{className:"sp1_task_comment_list mt-4",children:[(0,l.jsx)("div",{className:"font-weight-bold pb-3",children:"Comments: "}),(0,l.jsx)("div",{className:"sp1_task_comment_list_items",children:(null==c?void 0:c.length)>0&&(null==c?void 0:c.map((function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(ee,{}),children:(0,l.jsx)(te,{comment:e})})},e.id)})))})]})]})]})}):(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(h.Z,{isOpen:i,children:(0,l.jsx)("div",{className:"position-relative",children:(0,l.jsxs)("div",{className:"sp1_task_comment_modal --small-device",children:[(0,l.jsx)("div",{className:"border-bottom pb-2 d-flex align-items-center",children:(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal ml-auto",onClick:s,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsxs)("div",{className:"d-flex flex-column pt-3",children:[(0,l.jsx)(U,{onCommentPost:d,task:a}),(0,l.jsxs)("div",{className:"sp1_task_comment_list mt-4",children:[(0,l.jsx)("div",{className:"font-weight-bold pb-3",children:"Comments: "}),(0,l.jsx)("div",{className:"sp1_task_comment_list_items",children:(null==c?void 0:c.length)>0&&(null==c?void 0:c.map((function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(ee,{}),children:(0,l.jsx)(te,{comment:e})})},e.id)})))})]})]})]})})})})})};const re=function(e){var t=e.isOpen,n=e.close;return(0,l.jsx)(h.Z,{isOpen:t,className:"sp1_st_cnt_modal",children:(0,l.jsx)("div",{className:"sp1_st_comment_preview",children:(0,l.jsxs)("div",{className:"sp1_st_comment_panel",style:{maxWidth:"60vw",minHeight:"50vh"},children:[(0,l.jsx)("div",{className:"border-bottom pb-2 d-flex",children:(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:n,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsx)("div",{className:"mt-3 w-100",children:(0,l.jsxs)("div",{className:"sp1_st_write_comment-sendbox",children:[(0,l.jsx)("div",{style:{minWidth:"48px"},children:(0,l.jsx)("img",{src:"/user-uploads/avatar/40164f31bc7d575c7dbe99b24b408d75.png",alt:"",width:48,height:48,className:"rounded-circle"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"sp1_st_write_comment_editor",children:(0,l.jsx)(F.Z,{})}),(0,l.jsxs)("div",{className:"py-3",children:[(0,l.jsxs)("div",{children:["Attach Files here (if need) ",(0,l.jsx)("i",{className:"fa-solid fa-paperclip ml-1 text-primary"})]}),(0,l.jsxs)("div",{className:"sp1_st_write_comment_editor_attach",children:[(0,l.jsx)("i",{className:"fa-solid fa-cloud-arrow-up"}),(0,l.jsx)("span",{children:"Attach Files"})]})]})]})]})})]})})})};function ie(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const oe=function(e){var t=e.task,n=e.isLoading,i=se(r.useState([]),2),s=i[0],a=i[1],o=se(r.useState(!1),2),c=o[0],d=o[1],u=se(r.useState(!1),2),m=u[0],h=u[1],f=se(r.useState(null),2),p=f[0],x=f[1],g=function(){return d(!c)},y=se((0,P.qX)(),2),j=y[0],N=y[1].isFetching;r.useEffect((function(){t&&t.id&&j("/".concat(null==t?void 0:t.id,"/json?mode=task_comment")).unwrap().then((function(e){var t=v().orderBy(ie(e),"id","desc");a(t)})).catch((function(e){console.log(e)}))}),[]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:x,style:{zIndex:c?"99":""},children:[(0,l.jsx)(ne,{isOpen:c,toggleRef:p,comments:s,task:t,close:function(){return d(!1)},onCommentPost:function(e){var t=ie(s);t.unshift(e),a(t)}}),(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:g,style:{zIndex:c?"110":""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(c?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsxs)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:[(0,l.jsx)("h6",{className:"f-16 mb-0",children:"Comment"}),(n||N)&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2 mr-auto",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}}),(0,l.jsxs)(b.Z,{variant:"tertiary",className:"sp1_tark_add_item","aria-label":"addButton",onClick:g,children:[(0,l.jsx)("i",{className:"fa-solid fa-plus",style:{fontSize:"12px"}}),"Comment"]}),(0,l.jsx)(re,{isOpen:m,close:function(){return h(!1)}})]}),(0,l.jsx)("div",{className:"sp1_task_right_card--body",children:N||n?(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#5A6169",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:[(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent",marginRight:"10px"}}),"Loading..."]}):(null==s?void 0:s.length)>0?null==s?void 0:s.map((function(e){return(0,l.jsx)(D,{comment:e},e.id)})):(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#B4BCC4",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:"No Comment is Avaliable"})})]})})};var ce=n(60368);const de=function(){return(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-12 col-xl-6 pb-3 pb-xl-0",children:(0,l.jsxs)("div",{className:"d-flex flex-column",style:{gap:"10px"},children:[(0,l.jsx)("h6",{className:"",children:(0,l.jsx)(Q.V,{width:"220px"})}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)(Q.V,{width:"220px"})})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)(Q.V,{width:"220px"})})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)(Q.V,{width:"220px"})})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,l.jsx)(Q.V,{width:"32px",height:"32px",type:"circle",className:"rounded-circle"})}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsx)(Q.V,{width:"130px"}),(0,l.jsx)(Q.V,{width:"70px",height:"10px",className:"mt-2"})]})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,l.jsx)(Q.V,{width:"32px",height:"32px",type:"circle",className:"rounded-circle"})}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsx)(Q.V,{width:"130px"}),(0,l.jsx)(Q.V,{width:"70px",height:"10px",className:"mt-2"})]})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)(Q.V,{width:"80px"})})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:(0,l.jsx)(Q.V,{width:"80px"})}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)(Q.V,{width:"100px"})})]})]})})})};const ue=function(){return(0,l.jsxs)("div",{className:"w-100",children:[(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"30%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"50%",className:"mb-2"})]})};const me=function(e){var t,n,i,s,a,o,c,d,u,h,f,p,v,x,g,j,b,N=e.task,w=e.isFetching,A=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user);return(0,l.jsxs)("div",{className:"row",children:[w?(0,l.jsx)(de,{}):(0,l.jsx)(r.Fragment,{children:(0,l.jsx)("div",{className:"col-12 col-xl-6 pb-3 pb-xl-0",children:(0,l.jsxs)("div",{className:"d-flex flex-column",style:{gap:"10px"},children:[(0,l.jsxs)("h6",{className:"",children:["Task: ",(0,l.jsx)("a",{target:"__blank",href:"/account/tasks/".concat(null==N?void 0:N.id),className:"text-primary font-weight-normal",children:null==N?void 0:N.getSubtaskTitle()})]}),(null==N?void 0:N.isSubtask)&&(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:"Parent Task :"}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)("a",{href:"/account/tasks/".concat(null==N?void 0:N.parentTaskId),className:"text-dark text-hover-underline",children:null==N?void 0:N.parentTaskTitle})})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:"Project : "}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("span",{className:"dot-color bg-danger mr-2"}),(0,l.jsx)("a",{href:"/account/projects/".concat(null==N?void 0:N.projectId),className:"text-dark text-hover-underline",children:null==N?void 0:N.projectName})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Milestone :"," "]}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("span",{className:"dot-color bg-primary mr-2"}),null==N?void 0:N.milestoneTitle]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Assigned To :"," "]}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,l.jsx)("img",{src:null==N||null===(i=N.assigneeTo)||void 0===i?void 0:i.getAvatar(),alt:null==N||null===(s=N.assigneeTo)||void 0===s?void 0:s.getName(),width:"32px",height:"32px",className:"rounded-circle"})}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsxs)("span",{className:"d-block f-14 font-weight-bold",children:[(0,l.jsx)("a",{href:null==N||null===(a=N.assigneeTo)||void 0===a?void 0:a.getUserLink(),className:"text-dark hover-underline",children:null==N||null===(o=N.assigneeTo)||void 0===o?void 0:o.getName()}),Number(null==N||null===(c=N.assigneeTo)||void 0===c?void 0:c.getId())===Number(null==A?void 0:A.getId())&&(0,l.jsxs)("sup",{className:"rounded-pill bg-dark text-white px-1",style:{fontSize:"10px"},children:[" ","It's You"," "]})]}),(0,l.jsx)("span",{style:{fontSize:"12px"},children:null==N||null===(d=N.assigneeTo)||void 0===d?void 0:d.getDesignationName()})]})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Assigned by:"," "]}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,l.jsx)("img",{src:null==N||null===(u=N.assigneeBy)||void 0===u?void 0:u.getAvatar(),alt:null==N||null===(h=N.assigneeBy)||void 0===h?void 0:h.getName(),width:"32px",height:"32px",className:"rounded-circle"})}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsxs)("span",{className:"d-block f-14 font-weight-bold",children:[(0,l.jsx)("a",{href:null==N||null===(f=N.assigneeBy)||void 0===f?void 0:f.getUserLink(),className:"text-dark hover-underline",children:null==N||null===(p=N.assigneeBy)||void 0===p?void 0:p.getName()}),Number(null==N||null===(v=N.assigneeBy)||void 0===v?void 0:v.getId())===Number(null==A?void 0:A.getId())&&(0,l.jsx)("sup",{className:"rounded-pill bg-dark text-white px-1",style:{fontSize:"10px"},children:"It's You"})]}),(0,l.jsx)("span",{style:{fontSize:"12px"},children:null==N||null===(x=N.assigneeBy)||void 0===x?void 0:x.getDesignationName()})]})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:"Priority : "}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("span",{className:"dot-color mr-2",style:{background:"rgba(252, 189, 1, 1)"}}),null==N?void 0:N.priority]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Task Category :"," "]}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:null==N||null===(g=N.category)||void 0===g?void 0:g.name})]})]})})}),(0,l.jsxs)("div",{className:"col-12 col-xl-6 d-flex flex-column py-3 px-3",style:{gap:"10px",background:"#F0F2F6"},children:[(0,l.jsx)("div",{className:"font-weight-bold d-block",children:" Status: "}),(0,l.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"6px"},children:[(0,l.jsx)("span",{className:"dot-color mr-2",style:{background:null==N||null===(j=N.boardColumn)||void 0===j?void 0:j.labelColor}}),(0,l.jsx)("span",{className:"font-weight-bold",children:null==N?void 0:N.boardColumn.columnName})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 col-sm-5 col-md-3 col-xl-6",children:["Start Date"," "]}),(0,l.jsxs)("div",{className:"col-6 col-sm-7 col-md-9 col-xl-6",children:[": ",null==N?void 0:N.getStartDate("MMM DD, YYYY")]})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 col-sm-5 col-md-3 col-xl-6",children:["Due Date"," "]}),(0,l.jsxs)("div",{className:"col-6 col-sm-7 col-md-9 col-xl-6",children:[": ",null==N?void 0:N.getDueDate("MMM DD, YYYY")]})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 col-sm-5 col-md-3 col-xl-6",children:["Time Estimate"," "]}),(0,l.jsxs)("div",{className:"col-6 col-sm-7 col-md-9 col-xl-6",children:[": ",null==N?void 0:N.getEstimateTime()]})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 col-sm-5 col-md-3 col-xl-6",children:["Parent Task Hours Logged"," "]}),(0,l.jsxs)("div",{className:"col-6 col-sm-7 col-md-9 col-xl-6",children:[": ",(null==N?void 0:N.parentTaskTimeLog)||"--"]})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 col-sm-5 col-md-3 col-xl-6",children:["Subtask Hours Logged:"," "]}),(0,l.jsxs)("div",{className:"col-6 col-sm-7 col-md-9 col-xl-6",children:[": ",(null==N?void 0:N.subTaskTimeLog)||"--"]})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 col-sm-5 col-md-3 col-xl-6",children:["Total Hours Logged"," "]}),(0,l.jsxs)("div",{className:"col-6 col-sm-7 col-md-9 col-xl-6",children:[": ",(null==N?void 0:N.totalTimeLog)||"--"]})]})]}),(0,l.jsxs)("div",{className:"col-12 border-top py-4 mt-4",children:[(0,l.jsx)(m,{expendable:!1,title:"General Guidelines",children:w?(0,l.jsx)(ue,{}):(0,l.jsx)(y,{text:null==N?void 0:N.guidelines,editorContainerClass:"modal-guideline-editor-text"})}),_.size(null==N?void 0:N.revisions)>0&&(0,l.jsx)(m,{title:null===(b=_.last(null==N?void 0:N.revisions))||void 0===b?void 0:b.revisionStatus,headingClass:"d-flex align-items-center justify-content-between",headingStyle:{background:"rgba(227,62,79,1)",color:"#fff"},children:_.map(null==N?void 0:N.revisions,(function(e,t){return(0,l.jsx)(k,{index:t+1,date:I()(e.createdAt).format("MMM DD, YYYY"),time:I()(e.createdAt).format("hh:mm a"),text:null==e?void 0:e.comment},e.id)}))}),(0,l.jsx)(m,{expendable:!1,title:"Task Descriptions",children:(0,l.jsx)(y,{text:null==N?void 0:N.description})})]})]})};var he=n(84294),fe=(0,r.lazy)((function(){return n.e(831).then(n.bind(n,89831))}));const pe=function(e){var t=e.task,n=e.submittedWork,i=e.loading;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("h6",{className:"font-weight-bold",children:"Submitted Work"}),(0,l.jsxs)("div",{className:"d-flex flex-column h-100",style:{gap:"10px"},children:[i&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)(he.Z,{})}),n.length>0?n.map((function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)(he.Z,{})}),children:(0,l.jsx)(fe,{data:e,task:t})})},null==e?void 0:e.task_id)})):null]})]})};const ve=function(e){e.task;var t=e.timeLog,n=e.isLoading;return(0,l.jsxs)("div",{className:"sp1_modal_timelog_view",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h6",{children:" Session Logs "})," "]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("table",{className:"sp1_subtask_log-tbl",children:(0,l.jsx)("thead",{className:"__thead",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Employee"}),(0,l.jsx)("th",{children:"Start Time"}),(0,l.jsx)("th",{children:"End Time"}),(0,l.jsx)("th",{children:"Memo"}),(0,l.jsx)("th",{children:"Hours Logged"})]})})}),(0,l.jsx)("div",{className:"sp1_modal_timelog_view-tbl-contanier",children:(0,l.jsx)("table",{className:"sp1_subtask_log-tbl",children:(0,l.jsxs)("tbody",{className:"__tbody",children:[t?t.map((function(e){return(0,l.jsx)(xe,{log:e},e.id)})):null,n&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"py-2 text-center",colSpan:5,children:(0,l.jsx)(he.Z,{})})})]})})})]})]})};var xe=function(e){var t=e.log,n=new ce.Mq(t),r=null==n?void 0:n.user;return(0,l.jsxs)("tr",{className:"__tbody_tr",children:[(0,l.jsxs)("td",{className:"__tbody_td _tbody_td_employee",children:[(0,l.jsx)("img",{src:null==r?void 0:r.getAvatar(),alt:null==r?void 0:r.getName()}),(0,l.jsx)("span",{className:"px-2",children:null==r?void 0:r.getName()})]}),(0,l.jsxs)("td",{className:"__tbody_td _tbody_td_start_time",children:[null==n?void 0:n.getStartTime()," ",(0,l.jsx)("br",{}),null==n?void 0:n.getStartTime("hh:mm a")]}),(0,l.jsx)("td",{className:"__tbody_td _tbody_td_start_time _tbody_td_start_end",children:null!=n&&n.endTime?(0,l.jsxs)(l.Fragment,{children:[null==n?void 0:n.getEndTime()," ",(0,l.jsx)("br",{}),null==n?void 0:n.getEndTime("hh:mm a")]}):(0,l.jsx)("span",{className:"text-success font-weight-bold",children:"Active"})}),(0,l.jsx)("td",{className:"__tbody_td _tbody_td_memo",children:null==n?void 0:n.memo}),(0,l.jsx)("td",{className:"__tbody_td _tbody_td_hour_logged",children:null==n?void 0:n.hoursLogged})]})};function ge(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const je=function(e){var t=e.rating;e.className,e.iconClassName;return(0,l.jsx)(l.Fragment,{children:ge(Array(5)).map((function(e,n){return n<=parseInt(t)-1?(0,l.jsx)("i",{className:"fa-solid fa-star",style:{color:"#FFA500"}},n):t-parseInt(t)>0&&n===parseInt(t)?(0,l.jsx)("i",{className:"fa-solid fa-star-half-stroke",style:{color:"#FFA500"}},n):(0,l.jsx)("i",{className:"fa-regular fa-star",style:{color:"#b9b9b9"}},n)}))})};const be=function(e){var t=e.review,n=e.isLoading,i=t,s=(null==i?void 0:i.comment)||"<span className='' style=\"color: #A7A9B2\">No Comment is Available</span>";return(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",style:{maxHeight:"450px"},children:[(0,l.jsx)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:(0,l.jsx)("span",{className:"f-16",children:"Task Review"})}),n?(0,l.jsx)(he.Z,{}):(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Deadline Meet : "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==i?void 0:i.deadline_meet)})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Submission Quality: "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==i?void 0:i.submission_quality)})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Req. Fullfillment: "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==i?void 0:i.req_fullfillment)})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Overall Task Ratings: "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==i?void 0:i.overall_tasks)})})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("span",{className:"font-weight-bold d-block mb-1",children:"Comments:"}),(0,l.jsx)("div",{style:{color:"#777",fontSize:"13px"},children:(0,l.jsx)("div",{className:"sp1_ck_content",dangerouslySetInnerHTML:{__html:s}})})]})]})]})};var Ne=n(24561);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ae=function(e){return(0,l.jsxs)(Ne.ZP,_e(_e({speed:2,width:450,height:45,viewBox:"0 0 450 45",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[(0,l.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"46",height:"48"}),(0,l.jsx)("rect",{x:"62",y:"29",rx:"0",ry:"0",width:"227",height:"12"}),(0,l.jsx)("rect",{x:"60",y:"5",rx:"0",ry:"0",width:"344",height:"12"})]}))};var Se=(0,r.lazy)((function(){return n.e(67).then(n.bind(n,41067))}));const Ce=function(e){var t=e.histories,n=e.isLoading;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("h6",{className:"font-weight-bold",children:" Histories "}),(0,l.jsxs)("div",{className:"mt-3 px-2",children:[t.length>0?t.map((function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(Ae,{}),children:(0,l.jsx)(Se,{history:e})})},e.id)})):null,n&&(0,l.jsx)(he.Z,{})]})]})};const Oe=function(e){var t=e.task,n=e.comments,i=e.onCommentPost,s=e.isLoading;return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)(U,{task:t,onCommentPost:i}),(0,l.jsxs)("div",{className:"sp1_task_comment_list mt-4",children:[(0,l.jsx)("div",{className:"font-weight-bold pb-3",children:"Comments: "}),(0,l.jsxs)("div",{className:"sp1_task_comment_list_items",children:[s&&0===(null==n?void 0:n.length)&&(0,l.jsx)(he.Z,{}),(null==n?void 0:n.length)>0&&(null==n?void 0:n.map((function(e){return(0,l.jsx)(A.default,{comment:e},e.id)})))]})]})]})})};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function o(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,s=Object.create(i.prototype),l=new w(r||[]);return s._invoke=function(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return k()}for(n.method=i,n.arg=s;;){var l=n.delegate;if(l){var a=j(l,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var o=c(e,t,n);if("normal"===o.type){if(r=n.done?"completed":"suspendedYield",o.arg===d)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(r="completed",n.method="throw",n.arg=o.arg)}}}(e,n,l),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=o;var d={};function u(){}function m(){}function h(){}var f={};a(f,i,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(_([])));v&&v!==t&&n.call(v,i)&&(f=v);var x=h.prototype=u.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(i,s,l,a){var o=c(e[i],e,s);if("throw"!==o.type){var d=o.arg,u=d.value;return u&&"object"==Ie(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,l,a)}),(function(e){r("throw",e,l,a)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return r("throw",e,l,a)}))}a(o.arg)}var i;this._invoke=function(e,n){function s(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(s,s):s()}}function j(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,a(x,"constructor",h),a(h,"constructor",m),m.displayName=a(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},g(y.prototype),a(y.prototype,s,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var l=new y(o(t,n,r,i),s);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},g(x),a(x,l,"Generator"),a(x,i,(function(){return this})),a(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return l.type="throw",l.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],l=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),o=n.call(s,"finallyLoc");if(a&&o){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var l=s?s.completion:{};return l.type=e,l.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t,n,r,i,s,l){try{var a=e[s](l),o=a.value}catch(e){return void n(e)}a.done?t(o):Promise.resolve(o).then(r,i)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function l(e){Be(s,r,i,l,a,"next",e)}function a(e){Be(s,r,i,l,a,"throw",e)}l(void 0)}))}}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=function(){new C.n(null===(e=window)||void 0===e||null===(t=e.Laravel)||void 0===t?void 0:t.user);var e,t,n=Pe((0,P.qX)(),2),r=n[0],i=n[1].isFetching,s=function(){var e=Le(Te().mark((function e(t){var n,i,s;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r("/".concat(t,"/json?mode=basic")).unwrap();case 3:if(!(n=e.sent)){e.next=7;break}return s=De(De({},n.task),{},{parent_task_action:n.parent_task_action,parent_task_title:(null===(i=n.parent_task_heading)||void 0===i?void 0:i.heading)||null,working_environment:n.working_environment,working_environment_data:n.working_environment_data,pm_task_guideline:n.task_guideline,task_revisions:n.revisions,taskSubTask:n.Sub_Tasks}),e.abrupt("return",s);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),l=Pe((0,P.Ew)(),2),a=l[0],o=l[1].isFetching,c=function(){var e=Le(Te().mark((function e(t){var n,r;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t).unwrap();case 3:if(!(n=e.sent)){e.next=7;break}return r=v().orderBy(n,["task_id","submission_no"],["desc","desc"]),e.abrupt("return",r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=Pe((0,P.UM)(),2),u=d[0],m=d[1].isLoading,h=function(){var e=Le(Te().mark((function e(t,n){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!v().isEmpty(t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,u(t).unwrap();case 5:e.sent&&(n&&n(),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"Task Approved Successfully"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}();return{getTaskById:s,approveTask:h,getSubmittionInfo:c,taskDetailsIsFetching:i,approveTaskLoadingStatus:m,submittionInfoIsFetching:o}};function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ye(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(){Ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function o(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,s=Object.create(i.prototype),l=new w(r||[]);return s._invoke=function(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return k()}for(n.method=i,n.arg=s;;){var l=n.delegate;if(l){var a=j(l,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var o=c(e,t,n);if("normal"===o.type){if(r=n.done?"completed":"suspendedYield",o.arg===d)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(r="completed",n.method="throw",n.arg=o.arg)}}}(e,n,l),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=o;var d={};function u(){}function m(){}function h(){}var f={};a(f,i,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(_([])));v&&v!==t&&n.call(v,i)&&(f=v);var x=h.prototype=u.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(i,s,l,a){var o=c(e[i],e,s);if("throw"!==o.type){var d=o.arg,u=d.value;return u&&"object"==Re(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,l,a)}),(function(e){r("throw",e,l,a)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return r("throw",e,l,a)}))}a(o.arg)}var i;this._invoke=function(e,n){function s(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(s,s):s()}}function j(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,a(x,"constructor",h),a(h,"constructor",m),m.displayName=a(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},g(y.prototype),a(y.prototype,s,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var l=new y(o(t,n,r,i),s);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},g(x),a(x,l,"Generator"),a(x,i,(function(){return this})),a(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return l.type="throw",l.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],l=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),o=n.call(s,"finallyLoc");if(a&&o){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var l=s?s.completion:{};return l.type=e,l.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ze(e,t,n,r,i,s,l){try{var a=e[s](l),o=a.value}catch(e){return void n(e)}a.done?t(o):Promise.resolve(o).then(r,i)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function l(e){ze(s,r,i,l,a,"next",e)}function a(e){ze(s,r,i,l,a,"throw",e)}l(void 0)}))}}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ge=function(e){e.parentTask;var t=e.subTask,n=We(r.useState(null),2),i=n[0],s=n[1],a=null==t?void 0:t.id,o=We(r.useState([]),2),c=o[0],d=o[1],u=We(r.useState([]),2),m=u[0],h=u[1],f=We(r.useState(null),2),p=f[0],x=f[1],g=We(r.useState([]),2),y=g[0],j=g[1],b=We(r.useState([]),2),N=b[0],w=b[1],_=Ze(),k=_.getTaskById,A=_.getSubmittionInfo,S=_.taskDetailsIsFetching,C=_.submittionInfoIsFetching,O=We((0,P.qX)(),2),I=O[0],T=O[1].isFetching;r.useEffect((function(){Ve(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(a);case 2:t=e.sent,t=new ce.od(t),s(t);case 5:case"end":return e.stop()}}),e)})))()}),[]);var E=function(e,t){I("/".concat(null==i?void 0:i.id,"/json?mode=").concat(e)).unwrap().then((function(e){var n=v().orderBy(e,"id","desc");t(n)})).catch((function(e){return console.error(e)}))},D=function(){var e=Ve(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==c.length){e.next=7;break}return e.next=4,A(a);case 4:n=e.sent,console.log({data:n}),d(Ye(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"nav flex-column nav-pills sp1-subtask-modal-sidebar",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[(0,l.jsx)("a",{className:"nav-link active",id:"v-pills-general-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"General"}),(0,l.jsx)("a",{className:"nav-link",id:"v-pills-submitted-work-tab","data-toggle":"pill",href:"#v-pills-submitted-work",role:"tab","aria-controls":"v-pills-submitted-work","aria-selected":"false",onClick:D,children:"Submitted Works"}),(0,l.jsx)("a",{className:"nav-link",id:"v-pills-comments-tab","data-toggle":"pill",href:"#v-pills-comments",role:"tab","aria-controls":"v-pills-comments","aria-selected":"false",onClick:function(e){e.preventDefault(),E("task_comment",w)},children:"Comment"}),(0,l.jsx)("a",{className:"nav-link",id:"v-pills-time-log-work-tab","data-toggle":"pill",href:"#v-pills-time-log-work",role:"tab","aria-controls":"v-pills-time-log-work","aria-selected":"false",onClick:function(e){e.preventDefault(),0===m.length&&E("task_time_log",h)},children:"Time Logs"}),(0,l.jsx)("a",{className:"nav-link",id:"v-pills-history-tab","data-toggle":"pill",href:"#v-pills-history",role:"tab","aria-controls":"v-pills-history","aria-selected":"false",onClick:function(e){e.preventDefault(),E("task_history",j)},children:"History"}),(0,l.jsx)("a",{className:"nav-link",id:"v-pills-task-review-work-tab","data-toggle":"pill",href:"#v-pills-task-review-work",role:"tab","aria-controls":"v-pills-task-review-work","aria-selected":"false",onClick:function(e){e.preventDefault(),E("task_approve",x)},children:"Task Review"})]}),(0,l.jsxs)("div",{className:"tab-content p-3 sp1-subtask-modal-tab-content",id:"v-pills-tabContent",children:[(0,l.jsx)("div",{className:"tab-pane fade show active sp1_st_tab_panel",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-general-tab",children:(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)(me,{isFetching:S,taskID:a,task:i})})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-submitted-work",role:"tabpanel","aria-labelledby":"v-pills-submitted-work-tab",children:(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)(pe,{task:i,submittedWork:c,loading:C})})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-comments",role:"tabpanel","aria-labelledby":"v-pills-comments-tab",children:(0,l.jsx)(Oe,{task:i,comments:N,onCommentPost:function(e){var t=Ye(N);t.unshift(e),w(t)},isLoading:T})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-time-log-work",role:"tabpanel","aria-labelledby":"v-pills-time-log-work-tab",children:(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)(ve,{task:i,timeLog:m,isLoading:T})})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-history",role:"tabpanel","aria-labelledby":"v-pills-history-tab",children:(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)(Ce,{histories:y,isLoading:T})})}),(0,l.jsx)("div",{className:"tab-pane fade",id:"v-pills-task-review-work",role:"tabpanel","aria-labelledby":"v-pills-task-review-work-tab",children:(0,l.jsx)(be,{review:p,isLoading:T})})]})]})};var $e=n(32697),Je=(n(22012),n(5669)),Xe=n(66466),Ke=n(36091),Qe=n(7285);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(){tt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function o(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,s=Object.create(i.prototype),l=new w(r||[]);return s._invoke=function(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return k()}for(n.method=i,n.arg=s;;){var l=n.delegate;if(l){var a=j(l,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var o=c(e,t,n);if("normal"===o.type){if(r=n.done?"completed":"suspendedYield",o.arg===d)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(r="completed",n.method="throw",n.arg=o.arg)}}}(e,n,l),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=o;var d={};function u(){}function m(){}function h(){}var f={};a(f,i,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(_([])));v&&v!==t&&n.call(v,i)&&(f=v);var x=h.prototype=u.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(i,s,l,a){var o=c(e[i],e,s);if("throw"!==o.type){var d=o.arg,u=d.value;return u&&"object"==et(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,l,a)}),(function(e){r("throw",e,l,a)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return r("throw",e,l,a)}))}a(o.arg)}var i;this._invoke=function(e,n){function s(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(s,s):s()}}function j(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,a(x,"constructor",h),a(h,"constructor",m),m.displayName=a(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},g(y.prototype),a(y.prototype,s,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var l=new y(o(t,n,r,i),s);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},g(x),a(x,l,"Generator"),a(x,i,(function(){return this})),a(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return l.type="throw",l.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],l=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),o=n.call(s,"finallyLoc");if(a&&o){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var l=s?s.completion:{};return l.type=e,l.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function nt(e,t,n,r,i,s,l){try{var a=e[s](l),o=a.value}catch(e){return void n(e)}a.done?t(o):Promise.resolve(o).then(r,i)}function rt(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const at=function(e){var t=e.task,n=(e.status,e.auth),i=((0,L.I0)(),it((0,r.useState)(!1),2)),s=i[0],a=i[1],o=it((0,r.useState)(0),2),c=o[0],d=o[1],u=it((0,r.useState)(0),2),m=u[0],f=u[1],p=it((0,r.useState)(0),2),v=p[0],x=p[1],g=it((0,r.useState)(""),2),y=g[0],j=g[1],N=it((0,r.useState)([]),2),w=N[0],k=N[1],A=it((0,r.useState)({}),2),S=A[0],C=A[1],O=it((0,P.UM)(),2),I=(O[0],O[1].isLoading,(0,P._C)(null==t?void 0:t.id)),T=I.data,E=I.isFetching,D=Ze(),B=D.approveTask,M=D.approveTaskLoadingStatus;(0,r.useEffect)((function(){if(T){var e=_.sortBy(T,["submission_no"]),t=_.last(e),n=_.initial(e);k(rt(n)),C(t)}}),[E]);var Z=function(e){e.preventDefault(),a(!1)},R=function(){var e,r=(e=tt().mark((function e(r){var i,s;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i={rating:c,rating2:m,rating3:v,comment:y,task_id:null==t?void 0:t.id,user_id:null==n?void 0:n.getId()},s=function(){return a(!1)},e.next=5,B(i,s);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function l(e){nt(s,r,i,l,a,"next",e)}function a(e){nt(s,r,i,l,a,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"success",onClick:function(){return a(!0)},className:"d-flex align-items-center border-success",children:[(0,l.jsx)("i",{className:"fa-solid fa-handshake-angle"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Approve"})]}),(0,l.jsx)(h.Z,{isOpen:s,className:"sp1_single_task--modal w-100",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper w-100",children:(0,l.jsxs)("div",{className:"sp1_single_task--modal-panel w-100",style:{maxWidth:"600px",minWidth:"320px"},children:[(0,l.jsxs)("div",{className:"border-bottom pb-2 pl-3 pr-2 mb-3 d-flex align-items-center justify-content-between",children:[(0,l.jsx)("div",{className:"font-weight-bold f-16",children:" Approve Task "}),(0,l.jsx)(b.Z,{onClick:Z,className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("div",{className:"px-3",children:[_.size(w)>0&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"sp1_st--approve-card",children:(0,l.jsxs)("div",{className:"sp1_st--approve-card-header","data-toggle":"collapse",href:"#oldSubmittedSuccess",role:"button","aria-expanded":"false","aria-controls":"oldSubmittedSuccess",children:["Old Submitted Works (",_.size(w),")",(0,l.jsx)("button",{children:(0,l.jsx)(Je.YZt,{})})]})}),(0,l.jsx)("div",{className:"collapse multi-collapse shadow-none",id:"oldSubmittedSuccess",children:(0,l.jsx)("div",{className:"card card-body",children:_.size(w)>0?_.map(w,(function(e){return(0,l.jsx)(ot,{data:e,isLoading:E},"".concat(e.id,"_").concat(null==e?void 0:e.submission_no))})):(0,l.jsx)("span",{children:"No Old Submittion!"})})})]}),(0,l.jsx)(ot,{data:S,latest:!0,isLoading:E})]}),(0,l.jsx)("div",{className:"mt-4 px-3",children:(0,l.jsxs)("form",{action:"",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Is This Task Completed Within Deadline?",(0,l.jsx)("sup",{className:"f-16",children:"*"})]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)($e.iG,{style:{maxWidth:120},value:c,onChange:d,radius:"small"})})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["How Beautifully The Task Is Submitted?",(0,l.jsx)("sup",{className:"f-16",children:"*"})]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)($e.iG,{style:{maxWidth:120},value:m,onChange:f,radius:"small"})})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["How Perfectly The Task Requirements Are Fullfilled?",(0,l.jsx)("sup",{className:"f-16",children:"*"})]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)($e.iG,{style:{maxWidth:120},value:v,onChange:x,radius:"small"})})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Any Recommendations For Developer?",(0,l.jsx)("sup",{className:"f-16",children:"*"})]}),(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();j(n)}})})]}),(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,l.jsx)(b.Z,{onClick:Z,variant:"tertiary",className:"ml-auto mr-2",children:"Close"}),(0,l.jsx)(Xe.Z,{onClick:R,title:"Approve",isLoading:M})]})]})})]})})})]})};var ot=function(e){var t,n=e.data,r=e.latest,i=void 0!==r&&r,s=e.className,a=void 0===s?"":s,o=e.style,c=e.isLoading,d=void 0!==c&&c,u=_.compact(_.split(null==n?void 0:n.links,",")),m=_.compact(_.split(null==n?void 0:n.attaches,","));return d?(0,l.jsxs)("div",{className:"sp1_st--approve-card mb-3 ".concat(a),style:o,children:[(0,l.jsxs)("div",{className:"sp1_st--approve-card-header",children:[(0,l.jsx)(Q.V,{height:"14px",width:"80px",className:"mb-2"}),(0,l.jsx)(Q.V,{height:"14px",width:"50px",className:"mb-2"})]}),(0,l.jsxs)("div",{className:"sp1_st--approve-card-body",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)(Q.V,{height:"14px",width:"80px",className:"mb-2"}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsx)(Q.V,{height:"14px",width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{height:"14px",width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{height:"14px",width:"100%",className:"mb-2"})]})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)(Q.V,{height:"14px",width:"80px",className:"mb-2"}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsx)(Q.V,{height:"14px",width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{height:"14px",width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{height:"14px",width:"50%",className:"mb-2"})]})]})]})]}):(0,l.jsxs)("div",{className:"sp1_st--approve-card mb-3 ".concat(a),style:o,children:[(0,l.jsxs)("div",{className:"sp1_st--approve-card-header",children:[(0,l.jsxs)("span",{children:[i?"Latest":"Old"," Submittion ",!i&&"(".concat(null==n?void 0:n.submission_no,")")]}),(0,l.jsx)("span",{children:I()(null==n?void 0:n.submission_date).format("MMM DD, YYYY hh:mm a")})]}),(0,l.jsxs)("div",{className:"sp1_st--approve-card-body",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("div",{className:"font-weight-bold f-12",style:{color:"#81868E"},children:" Links"}),(0,l.jsx)("ol",{style:{listStyle:"unset"},children:_.map(u,(function(e,t){return(0,l.jsx)("li",{style:{listStyle:"numaric"},children:(0,l.jsx)("a",{href:e,children:e})},"".concat(e,"_").concat(t))}))})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("div",{className:"font-weight-bold f-12",style:{color:"#81868E"},children:"Description"}),(0,l.jsx)("div",{className:"sp1_ck_content p-2",dangerouslySetInnerHTML:{__html:null!==(t=null==n?void 0:n.text)&&void 0!==t?t:'<span style="color:rgb(180,188,196);">Comment Not Available</span>'}})]}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("span",{className:"d-block f-12 font-weight-bold mb-2",style:{color:"#767581"},children:"Attached Files"}),_.size(m)>0?(0,l.jsx)(Qe.Z,{children:_.map(m,(function(e,t){return(0,l.jsx)(Qe.Z.Preview,{fileName:e,downloadAble:!0,deleteAble:!1,downloadUrl:"/storage/TaskSubmission/".concat(e),previewUrl:"/storage/TaskSubmission/".concat(e),fileType:_.includes(["png","jpg","jpeg","gif","svg"],_.last(_.split(e,".")))?"images":"others",ext:""},"".concat(e,"_").concat(t))}))}):(0,l.jsx)("span",{className:"px-2",style:{color:"rgb(180, 188, 196)"},children:"No Attachment is available"})]})]})]})};function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ut=function(e){var t,n,i=e.subTask,s=e.task,a=e.status,o=e.toggleEditForm,c=ct((0,r.useState)(!1),2),d=c[0],u=c[1],m=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),f=ct((0,r.useState)(null),2),p=(f[0],f[1],new ce.od(s),ct((0,P.Fm)(),2)),x=p[0],g=p[1].isFetching,y=function(e){e.preventDefault(),e.stopPropagation(),u(!0)},j=function(){return Number(null==i?void 0:i.added_by)===(null==m?void 0:m.getId())&&v().includes([1,2,3],null==a?void 0:a.id)};return(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between sp1_tark_right_item",style:{gap:"16px"},children:[(0,l.jsx)("div",{className:"w-100 text-ellipsis",children:(0,l.jsx)("div",{onClick:y,className:"hover-underline",style:{cursor:"pointer"},children:null==i?void 0:i.title})}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("div",{onClick:y,className:"mr-2 py-2 sp1_task_righ_action_btn",style:{cursor:"pointer"},children:(0,l.jsx)("i",{className:"fa-regular fa-eye"})}),j()&&(0,l.jsx)("div",{onClick:function(e){e.preventDefault(),x(null==i?void 0:i.id).unwrap().then((function(t){200===(null==t?void 0:t.status)?o(e,null==i?void 0:i.id):Swal.fire({icon:"error",title:"Oops...",text:"You cannot edit the task because timer is already running"})}))},className:"mr-2 py-2 sp1_task_righ_action_btn",style:{cursor:"pointer"},children:g?(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}}):(0,l.jsx)("i",{className:"fa-regular fa-pen-to-square"})})]}),(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(h.Z,{className:"sp1_subtask_offsetcanvas--modal",isOpen:d,children:(0,l.jsxs)("div",{className:"sp1_subtask_offsetcanvas ".concat(d?"open":""),children:[(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-2 sp1_subtask_offsetcanvas--bar",children:[(0,l.jsx)("div",{className:"pl-3",children:(0,l.jsxs)("span",{className:"font-weight-bold f-16",children:["Sub Task # ",null==i?void 0:i.id," :"," ",(0,l.jsx)("span",{className:"font-weight-normal",children:null==i?void 0:i.title})," "]})}),(0,l.jsxs)("div",{className:"d-flex align-items-center ml-auto",children:[j()&&(0,l.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),x(null==i?void 0:i.id).unwrap().then((function(e){200===(null==e?void 0:e.status)?window.location="/account/tasks/".concat(null==i?void 0:i.id,"/edit"):Swal.fire({icon:"error",title:"Oops...",text:"You cannot edit the task because timer is already running"})}))},className:"border text-dark mr-2 py-1 px-2",children:g?(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}}):(0,l.jsx)("i",{className:"fa-regular fa-pen-to-square"})}),(0,l.jsx)("a",{href:"/account/tasks/".concat(null==i?void 0:i.id),target:"__blank",className:"border text-dark mr-2 py-1 px-2",children:(0,l.jsx)("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})}),(0,l.jsx)(b.Z,{onClick:function(){return u(!1)},className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]})]}),(0,l.jsx)("div",{className:"sp1_subtask_offsetcanvas--body",children:(0,l.jsx)(Ge,{parentTask:s,subTask:i})})]})})})]})};var mt=["label","id","readOnly","placeholder","inputClass","labelClass","type","className","value","defaultValue","onChange","error"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const xt=function(e){var t=e.label,n=e.id,r=e.readOnly,i=void 0!==r&&r,s=e.placeholder,a=void 0===s?"":s,o=e.inputClass,c=void 0===o?"":o,d=e.labelClass,u=void 0===d?"":d,m=e.type,h=void 0===m?"text":m,f=e.className,p=void 0===f?"":f,v=e.value,x=e.defaultValue,g=e.onChange,y=e.error,j=vt(e,mt);return(0,l.jsxs)("div",{className:"form-group my-3 w-100 ".concat(p),children:[(0,l.jsxs)("label",{htmlFor:n,className:"f-14 text-dark-gray mb-1 ".concat(u),"data-label":"true",children:[t,j.required&&(0,l.jsx)("sup",{className:"f-14 mr-1",children:"*"})]}),(0,l.jsx)("input",ft({type:h,className:"form-control height-35 w-100 f-14 ".concat(c),placeholder:a,id:n,value:v,defaultValue:x,onChange:g,readOnly:i},j)),y?(0,l.jsxs)("div",{className:"",style:{color:"red"},children:[" ",y," "]}):null]})};var gt=n(37555),yt=n(54031),jt=n(89250);function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const wt=function(e){var t=e.selected,n=e.onSelect,i=bt(r.useState(""),2),s=i[0],a=i[1],o=(0,jt.UO)(),c=(0,P.GG)("/".concat(null==o?void 0:o.taskId,"/json?mode=employees")),d=c.data,u=c.isFetching,m=""===s?d:null==d?void 0:d.filter((function(e){return null==e?void 0:e.name.toLowerCase().includes(s.toLowerCase())}));return(0,l.jsx)(yt.h,{value:t,onChange:n,children:(0,l.jsxs)("div",{className:"form-group position-relative my-3",children:[(0,l.jsx)("label",{htmlFor:"",children:"Assigned To"}),(0,l.jsxs)(yt.h.Button,{className:"d-flex align-items-center w-100 sp1-selection-display-button",children:[(0,l.jsx)(yt.h.Input,{onChange:function(e){return a(e.target.value)},placeholder:"--",displayValue:function(e){return(null==e?void 0:e.name)||""},className:"form-control height-35 f-14 sp1-selection-display w-100"}),(0,l.jsx)("div",{className:"__icon",children:(0,l.jsx)("i",{className:"fa-solid fa-sort"})})]}),(0,l.jsxs)(yt.h.Options,{className:"sp1-select-options",children:[u&&(0,l.jsx)("div",{className:"sp1-select-option-nodata",children:(0,l.jsx)(he.Z,{})}),0===(null==m?void 0:m.length)?(0,l.jsx)("div",{className:"sp1-select-option-nodata",children:"Nothing found."}):null==m?void 0:m.map((function(e){return(0,l.jsx)(yt.h.Option,{className:function(e){var t=e.active;return"sp1-select-option ".concat(t?"active":"")},value:e,children:function(t){var n=t.selected;return(0,l.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[(0,l.jsx)("div",{className:"rounded-circle",style:{width:"28px",height:"28px",overflow:"hidden"},children:(0,l.jsx)("img",{src:null==e?void 0:e.image_url,alt:null==e?void 0:e.name,width:100,height:100,className:"rounded-circle",style:{width:"100%",height:"100%",objectFit:"fill"}})}),(0,l.jsxs)("span",{className:"block truncate ".concat(n?"font-medium":"font-normal"),children:[(0,l.jsx)("span",{className:"mr-2",children:null==e?void 0:e.name}),1===(null==e?void 0:e.developer_status)?(0,l.jsx)("span",{className:"badge badge-warning",children:"Working..."}):(0,l.jsx)("span",{className:"badge badge-primary",children:"Open to Work"})]}),n?(0,l.jsx)("span",{className:"ml-auto",children:(0,l.jsx)("i",{className:"fa-solid fa-check"})}):null]})}},null==e?void 0:e.id)}))]})]})})};var _t=n(9805),kt=n(71109),At=n(75737);function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ot=function(e){var t=e.task,n=e.onSubmit,i=e.close,s=St((0,r.useState)(""),2),a=s[0],o=s[1],c=St((0,r.useState)(""),2),d=c[0],u=c[1],m=St((0,r.useState)(""),2),h=m[0],f=m[1],p=St((0,r.useState)(""),2),v=p[0],x=p[1],g=St((0,r.useState)(""),2),y=g[0],j=g[1],N=St((0,P.Pn)(),2),w=N[0],_=N[1].isLoading,k=function(e,t){e.preventDefault(),t(e.target.value)};return(0,l.jsxs)("div",{className:"sp1-subtask-form w-100 --form -row",children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 lg:col-6",children:(0,l.jsx)(xt,{id:"siteURL",label:"Working/Staging Site's URL",type:"text",placeholder:"Type Working/Staging Site's URL",name:"stie_url",required:!0,value:a,onChange:function(e){return k(e,o)}})}),(0,l.jsx)("div",{className:"col-12 lg:col-6",children:(0,l.jsx)(xt,{id:"frontendPassword",label:"Frontend Password",type:"text",placeholder:"Frontent Password",name:"frontend-end-password",required:!0,value:d,onChange:function(e){return k(e,u)}})})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 col-md-4",children:(0,l.jsx)(xt,{id:"loginUrl",label:"Working/Staging Site's Admin Panel URL",type:"text",placeholder:"Type Working/Staging Site's Admin Panel URL",name:"login_url",required:!0,value:h,onChange:function(e){return k(e,f)}})}),(0,l.jsx)("div",{className:"col-12 col-md-5 h-100",children:(0,l.jsx)(xt,{id:"siteLoginCredential",label:"Working/Staging Site's Admin Panel Username/Email",type:"text",placeholder:"Type Working/Staging Site's Admin Panel Username/Email",name:"site-login-credential",required:!0,value:v,onChange:function(e){return k(e,x)}})}),(0,l.jsx)("div",{className:"col-12 col-md-3",children:(0,l.jsx)("div",{className:"h-100 d-md-flex align-items-end",children:(0,l.jsx)(xt,{id:"password",label:"Password",type:"text",placeholder:"Password",name:"password",className:"mt-md-auto",required:!0,value:y,onChange:function(e){return k(e,j)}})})})]}),(0,l.jsx)("div",{className:"col-12 mt-3",children:(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,l.jsx)(b.Z,{variant:"secondary",className:"mr-2",onClick:i,children:"Cancel"}),(0,l.jsxs)(Xe.Z,{onClick:function(e){var r={project_id:null==t?void 0:t.projectId,site_url:a,login_url:h,email:v,password:y,frontend_password:d};w(r).unwrap().then((function(e){i(),n()}))},isLoading:_,children:[(0,l.jsx)("i",{className:"fa-regular fa-paper-plane"}),"Create"]})]})})]})};function It(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Et(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||Et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ft=function(e){var t,n,i,s,a,o,c,d=e.close,u=e.isFirstSubtask,m=(void 0===u&&ture,(0,L.v9)((function(e){return e.subTask}))),h=m.task,f=m.subTask,p=m.isWorkingEnvironmentSubmit,x=(0,L.I0)(),g=new At.s,y=Tt((0,r.useState)(!1),2),j=(y[0],y[1]),N=Tt((0,r.useState)(""),2),w=N[0],_=N[1],k=Tt((0,r.useState)(""),2),A=k[0],S=k[1],O=Tt((0,r.useState)(""),2),I=O[0],T=O[1],E=Tt((0,r.useState)(null),2),D=E[0],M=E[1],Z=Tt((0,r.useState)(null),2),R=Z[0],Y=Z[1],U=Tt((0,r.useState)(""),2),z=U[0],V=U[1],W=Tt((0,r.useState)(""),2),q=W[0],H=W[1],G=Tt((0,r.useState)(""),2),$=G[0],J=G[1],X=Tt((0,r.useState)(""),2),K=(X[0],X[1],Tt((0,r.useState)(""),2)),Q=K[0],ee=K[1],te=Tt((0,r.useState)("To Do"),2),ne=(te[0],te[1],Tt((0,r.useState)("Medium"),2)),re=ne[0],ie=ne[1],se=Tt((0,r.useState)(0),2),le=se[0],ae=se[1],oe=Tt((0,r.useState)(0),2),de=oe[0],ue=oe[1],me=Tt(r.useState([]),2),he=me[0],fe=me[1],pe=new ce.od(h),ve=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),xe=((0,jt.UO)(),Tt((0,P.O8)(),2)),ge=xe[0],ye=xe[1],je=ye.isLoading,be=ye.error,Ne=Tt((0,P.qX)(),2),we=Ne[0],_e=Ne[1],ke=_e.data,Ae=(_e.isFetching,422===(null==be?void 0:be.status)?null==be?void 0:be.data:null);r.useEffect((function(){S(null==pe?void 0:pe.milestoneTitle),V(null==pe?void 0:pe.projectName),T(null==pe?void 0:pe.title)}),[pe]),r.useEffect((function(){we("/".concat(null==pe?void 0:pe.id,"/json?mode=estimation_time")).unwrap()}),[]);var Se=function(e,t){e.preventDefault(),t(e.target.value)};r.useEffect((function(){document.getElementsByTagName("body")[0].style.cursor=je?"progress":"default"}),[je]);var Ce,Oe,Ie,Te,Ee,De;return(0,r.useEffect)((function(){var e=0===(null==pe?void 0:pe.workingEnvironment)&&0===v().size(null==pe?void 0:pe.subtask);6===ve.getRoleId()&&void 0===p&&x((0,Ke.g4)(e))}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsx)("h6",{children:p?"Working Environment":"Create Sub Task"}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:d,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-body sp1_subtask_form",children:[p&&(0,l.jsx)(Ot,{task:pe,onSubmit:function(){return x((0,Ke.g4)(!1))},close:function(){return j(!1)}}),!p&&(0,l.jsxs)("div",{className:"sp1-subtask-form --form row",children:[(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsx)(xt,{id:"title",label:"Title",type:"text",placeholder:"Enter a task title",name:"title",required:!0,value:w,error:null==Ae||null===(i=Ae.title)||void 0===i?void 0:i[0],onChange:function(e){return Se(e,_)}})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{className:"f-14 text-dark-gray mb-1","data-label":"true",children:"Milestone"}),(0,l.jsx)("input",{className:"form-control height-35 f-14",readOnly:!0,defaultValue:A})]})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{className:"f-14 text-dark-gray mb-1","data-label":"true",children:"Parent Task"}),(0,l.jsx)("input",{className:"form-control height-35 f-14",readOnly:!0,defaultValue:I})]})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{className:"f-14 text-dark-gray mb-1","data-label":"true",children:"Project"}),(0,l.jsx)("input",{className:"form-control height-35 f-14",readOnly:!0,defaultValue:z})]})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsxs)("label",{htmlFor:"",children:["Start Date ",(0,l.jsx)("sup",{className:"f-14",children:"*"})]}),(0,l.jsx)("div",{className:"form-control height-35 f-14",children:(0,l.jsx)(kt.Z,{placeholderText:"Ex: ".concat(g.dayjs().format("DD-MM-YYYY")),minDate:g.dayjs(null==pe?void 0:pe.startDate).toDate(),maxDate:R||g.dayjs(null==pe?void 0:pe.dueDate).toDate(),date:D,setDate:M})}),(null==Ae||null===(s=Ae.start_date)||void 0===s?void 0:s[0])&&(0,l.jsx)("div",{style:{color:"red"},children:null==Ae||null===(a=Ae.start_date)||void 0===a?void 0:a[0]})]})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsxs)("label",{htmlFor:"",children:["Due Date ",(0,l.jsx)("sup",{className:"f-14",children:"*"})]}),(0,l.jsx)("div",{className:"form-control height-35 f-14",children:(0,l.jsx)(kt.Z,{placeholderText:"Ex: ".concat(g.dayjs().format("DD-MM-YYYY")),minDate:D||g.dayjs(null==pe?void 0:pe.startDate).toDate(),maxDate:g.dayjs(null==pe?void 0:pe.dueDate).toDate(),date:R,setDate:Y})}),(null==Ae||null===(o=Ae.due_date)||void 0===o?void 0:o[0])&&(0,l.jsx)("div",{style:{color:"red"},children:null==Ae||null===(c=Ae.due_date)||void 0===c?void 0:c[0]})]})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsx)(gt.Z,{selected:q,onSelect:H})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsx)(wt,{selected:$,onSelect:J})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsx)(_t.Z,{selected:re,setSelected:ie})}),(0,l.jsx)("div",{className:"col-12 col-md-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsxs)("label",{htmlFor:"",className:"f-14 text-dark-gray",children:["Set Estimate Time"," ",(0,l.jsx)("sup",{className:"f-14",children:" * "})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("input",{type:"Number",className:"form-control height-35 f-14 mr-2",value:le,onChange:function(e){return Se(e,ae)}})," ","hrs",(0,l.jsx)("input",{type:"Number",className:"form-control height-35 f-14 mr-2 ml-2",value:de,onChange:function(e){return Se(e,ue)}})," ","min"]}),(0,l.jsx)("div",{style:{color:"red"},children:(Ce=Ae,Te="",Ee=null==Ce||null===(Oe=Ce.estimate_hours)||void 0===Oe?void 0:Oe[0],De=null==Ce||null===(Ie=Ce.estimate_minutes)||void 0===Ie?void 0:Ie[0],Ee&&(Te+=Ee),De&&(Te+=De),Te)}),(0,l.jsxs)("div",{style:{color:"red"},children:["Estimation time can't exceed ",null==ke?void 0:ke.hours_left," hours ",null==ke?void 0:ke.minutes_left," minutes"]})]})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{htmlFor:"",children:" Description "}),(0,l.jsx)("div",{className:"sp1_st_write_comment_editor",style:{minHeight:"100px"},children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();ee(n)}})})]})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)(B.Z,{files:he,setFiles:fe})}),(0,l.jsx)("div",{className:"col-12 mt-3 pb-3",children:(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,l.jsx)(b.Z,{variant:"secondary",className:"mr-2",onClick:d,children:"Cancel"}),je?(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):(0,l.jsxs)(b.Z,{onClick:function(e){var t,n;e.preventDefault();var r=g.dayjs(D).format("DD-MM-YYYY"),i=g.dayjs(R).format("DD-MM-YYYY"),s=new FormData;s.append("milestone_id",null==pe?void 0:pe.milestoneID),s.append("task_id",null==pe?void 0:pe.id),s.append("title",w),s.append("start_date",r),s.append("due_date",i),s.append("project_id",null==pe?void 0:pe.projectId),s.append("task_category_id",null==pe||null===(t=pe.category)||void 0===t?void 0:t.id),s.append("user_id",null==$?void 0:$.id),s.append("description",Q),s.append("board_column_id",null==pe||null===(n=pe.boardColumn)||void 0===n?void 0:n.id),s.append("priority",v().lowerCase(re)),s.append("estimate_hours",le),s.append("estimate_minutes",de),s.append("image_url",null),s.append("subTaskID",null),s.append("addedFiles",null),s.append("_token",document.querySelector("meta[name='csrf-token']").getAttribute("content")),Array.from(he).forEach((function(e){s.append("file[]",e)})),ge(s).unwrap().then((function(e){if("success"===(null==e?void 0:e.status)){var t,n,r=[].concat(It(f),[{id:null==e||null===(t=e.sub_task)||void 0===t?void 0:t.id,title:null==e||null===(n=e.sub_task)||void 0===n?void 0:n.title}]);x((0,Ke.ZS)(r)),d(),Swal.fire({position:"center",icon:"success",title:e.message,showConfirmButton:!1,timer:2500})}})).catch((function(e){422===(null==e?void 0:e.status)&&Swal.fire({position:"center",icon:"error",title:"Please fillup all required fields",showConfirmButton:!0})}))},children:[(0,l.jsx)("i",{className:"fa-regular fa-paper-plane"}),"Create"]})]})})]})]})]})})};function Bt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zt=new At.s;const Rt=function(e){var t,n,i,s,a,o=e.close,c=e.editId,d=(0,L.v9)((function(e){return e.subTask})),u=d.task,m=d.subTask,h=(0,L.I0)(),f=Lt((0,r.useState)(""),2),p=f[0],x=f[1],g=Lt((0,r.useState)(""),2),y=g[0],j=g[1],N=Lt((0,r.useState)(""),2),w=N[0],_=N[1],k=Lt((0,r.useState)(new Date),2),A=k[0],S=k[1],C=Lt((0,r.useState)(new Date),2),O=C[0],I=C[1],T=Lt((0,r.useState)(""),2),E=T[0],D=T[1],M=Lt((0,r.useState)(""),2),Z=M[0],R=M[1],Y=Lt((0,r.useState)(""),2),U=Y[0],z=Y[1],V=Lt((0,r.useState)(""),2),W=(V[0],V[1],Lt((0,r.useState)(""),2)),q=W[0],H=W[1],G=Lt((0,r.useState)("To Do"),2),$=(G[0],G[1],Lt((0,r.useState)("Medium"),2)),J=$[0],X=$[1],K=Lt((0,r.useState)(""),2),Q=K[0],ee=K[1],te=Lt((0,r.useState)(""),2),ne=te[0],re=te[1],ie=Lt((0,r.useState)([]),2),se=ie[0],le=ie[1],ae=Lt(r.useState([]),2),oe=ae[0],ce=ae[1],de=(0,jt.UO)(),ue=Lt((0,P.Tu)(),2),me=ue[0],he=ue[1],fe=he.isLoading,pe=he.error,ve=Lt((0,P.qX)(),2),xe=ve[0],ge=ve[1],ye=(ge.data,ge.isFetching),je=m.find((function(e){return e.id===c})),be=(0,P.GG)("/".concat(null==de?void 0:de.taskId,"/json?mode=estimation_time")),Ne=be.data,we=(be.isFetching,422===(null==pe?void 0:pe.status)?null==pe?void 0:pe.data:null);r.useEffect((function(){var e=function(e){return Zt.dayjs(e).toDate()};xe("/".concat(c,"/json?mode=sub_task_edit")).unwrap().then((function(t){if(t){var n,r=null==t||null===(n=t.users)||void 0===n?void 0:n[0];x(t.heading),j(t.milestone_title),_(null==u?void 0:u.heading),S(e(t.start_date)),I(e(t.due_date)),D(t.project_name),R(t.task_category),z(r?{id:null==r?void 0:r.id,name:null==r?void 0:r.name}:""),H(t.description),X(v().startCase(t.priority)),ee(t.estimate_hours),re(t.estimate_minutes),le(t.files)}})).catch((function(e){console.log(e)}))}),[u,c]);var _e=function(e,t){e.preventDefault(),t(e.target.value)},ke=Lt((0,P._y)(),1)[0];r.useEffect((function(){document.getElementsByTagName("body")[0].style.cursor=fe||ye?"progress":"default"}),[fe,ye]);var Ae,Se,Ce,Oe,Ie,Te;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsxs)("h6",{children:["Edit Sub Task",ye&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:o,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-body position-relative",children:[ye&&(0,l.jsx)("div",{className:"w-100",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1}}),(0,l.jsxs)("div",{className:"sp1-subtask-form --form row",children:[(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)(xt,{id:"title",label:"Title",type:"text",placeholder:"Enter a task title",name:"title",required:!0,value:p,error:null==we||null===(t=we.title)||void 0===t?void 0:t[0],onChange:function(e){return _e(e,x)}})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{className:"f-14 text-dark-gray mb-1","data-label":"true",children:"Milestone"}),(0,l.jsx)("input",{className:"form-control height-35 f-14",readOnly:!0,defaultValue:y})]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{className:"f-14 text-dark-gray mb-1","data-label":"true",children:"Parent Task"}),(0,l.jsx)("input",{className:"form-control height-35 f-14",readOnly:!0,defaultValue:w})]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{className:"f-14 text-dark-gray mb-1","data-label":"true",children:"Project"}),(0,l.jsx)("input",{className:"form-control height-35 f-14",readOnly:!0,defaultValue:E})]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsxs)("label",{htmlFor:"",children:["Start Date ",(0,l.jsx)("sup",{className:"f-14",children:"*"})]}),(0,l.jsx)("div",{className:"form-control height-35 f-14",children:(0,l.jsx)(kt.Z,{placeholderText:"Ex: ".concat(Zt.dayjs().format("DD-MM-YYYY")),minDate:Zt.dayjs(null==u?void 0:u.start_date).toDate(),maxDate:O||Zt.dayjs(null==u?void 0:u.due_date).toDate(),date:A,setDate:S})}),(null==we||null===(n=we.start_date)||void 0===n?void 0:n[0])&&(0,l.jsx)("div",{style:{color:"red"},children:null==we||null===(i=we.start_date)||void 0===i?void 0:i[0]})]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsxs)("label",{htmlFor:"",children:["Due Date ",(0,l.jsx)("sup",{className:"f-14",children:"*"})]}),(0,l.jsx)("div",{className:"form-control height-35 f-14",children:(0,l.jsx)(kt.Z,{placeholderText:"Ex: ".concat(Zt.dayjs().format("DD-MM-YYYY")),minDate:A||Zt.dayjs(null==u?void 0:u.start_date).toDate(),maxDate:Zt.dayjs(null==u?void 0:u.due_date).toDate(),date:O,setDate:I})}),(null==we||null===(s=we.due_date)||void 0===s?void 0:s[0])&&(0,l.jsx)("div",{style:{color:"red"},children:null==we||null===(a=we.due_date)||void 0===a?void 0:a[0]})]})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)(gt.Z,{selected:Z,onSelect:R})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)(wt,{selected:U,onSelect:z})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)(_t.Z,{selected:J,setSelected:X})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsxs)("label",{htmlFor:"",className:"f-14 text-dark-gray",children:["Set Estimate Time ",(0,l.jsx)("sup",{className:"f-14",children:" * "})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("input",{type:"Number",className:"form-control height-35 f-14 mr-2",value:Q,onChange:function(e){return _e(e,ee)}})," hrs",(0,l.jsx)("input",{type:"Number",className:"form-control height-35 f-14 mr-2 ml-2",value:ne,onChange:function(e){return _e(e,re)}})," min"]}),(0,l.jsx)("div",{style:{color:"red"},children:(Ae=we,Oe="",Ie=null==Ae||null===(Se=Ae.estimate_hours)||void 0===Se?void 0:Se[0],Te=null==Ae||null===(Ce=Ae.estimate_minutes)||void 0===Ce?void 0:Ce[0],Ie&&(Oe+=Ie),Te&&(Oe+=Te),Oe)}),(0,l.jsxs)("div",{style:{color:"red"},children:["Estimation time can't exceed ",null==Ne?void 0:Ne.hours_left," hours ",null==Ne?void 0:Ne.minutes_left," minutes"]})]})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{className:"form-group my-3",children:[(0,l.jsx)("label",{htmlFor:"",children:" Description "}),(0,l.jsx)("div",{className:"sp1_st_write_comment_editor",style:{minHeight:"100px"},children:(0,l.jsx)(F.Z,{data:q,onChange:function(e,t){var n=t.getData();H(n)}})})]})}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)(B.Z,{onPreviousFileDelete:function(e,t){ke(null==t?void 0:t.id).unwrap();var n=Bt(se),r=null==n?void 0:n.indexOf(t);n.splice(r,1),le(n)},previous:se,files:oe,setFiles:ce})}),(0,l.jsx)("div",{className:"col-12 mt-3",children:(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,l.jsx)(b.Z,{variant:"secondary",className:"mr-2",onClick:o,children:"Cancel"}),fe?(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):(0,l.jsxs)(b.Z,{onClick:function(e){e.preventDefault();var t=Zt.dayjs(A).format("DD-MM-YYYY"),n=Zt.dayjs(O).format("DD-MM-YYYY"),r=new FormData;r.append("milestone_id",null==u?void 0:u.milestone_id),r.append("task_id",null==u?void 0:u.id),r.append("title",p),r.append("start_date",t),r.append("due_date",n),r.append("project_id",null==u?void 0:u.project_id),r.append("task_category_id",null==Z?void 0:Z.id),r.append("user_id",null==U?void 0:U.id),r.append("description",q),r.append("board_column_id",null==u?void 0:u.board_column_id),r.append("priority",v().lowerCase(J)),r.append("estimate_hours",Q),r.append("estimate_minutes",ne),r.append("image_url",null),r.append("subTaskID",null==je?void 0:je.subtask_id),r.append("addedFiles",null),r.append("_method","PUT"),r.append("_token",document.querySelector("meta[name='csrf-token']").getAttribute("content")),Array.from(oe).forEach((function(e){r.append("file[]",e)})),me({data:r,id:c}).unwrap().then((function(e){if("success"===(null==e?void 0:e.status)){var t,n=Bt(m);n=null===(t=n)||void 0===t?void 0:t.map((function(t){var n;return Number(null==t?void 0:t.id)===Number(null==e||null===(n=e.sub_task)||void 0===n?void 0:n.id)?null==e?void 0:e.sub_task:t})),h((0,Ke.ZS)(n)),Swal.fire({position:"center",icon:"success",title:null==e?void 0:e.message,showConfirmButton:!1,timer:2500}),o()}})).catch((function(e){422===(null==e?void 0:e.status)&&Swal.fire({position:"center",icon:"error",title:"Please fillup all required fields",showConfirmButton:!0})}))},children:[(0,l.jsx)("i",{className:"fa-regular fa-paper-plane"}),"Update"]})]})})]})]})]})})};function Yt(e){var t=e.task,n=e.status,r=e.loggedUser,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeTo,o=r;return[2,3].includes(Number(l))&&(i=!0),a.getId()===o.getId()&&(s=!0),i&&s&&0===v().size(null==t?void 0:t.subtask)}function Ut(e){var t=e.task,n=e.status,r=e.loggedUser,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeTo,o=new C.n(r);return a.getId()===o.getId()&&(s=!0,6===(null==o?void 0:o.getRoleId())?[8].includes(Number(l))&&(i=!0):[2,3].includes(Number(l))&&(i=!0)),i&&s}function zt(e){var t=e.task,n=e.status,r=e.loggedUser,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeBy,o=new C.n(r);return[6].includes(Number(l))&&(i=!0),(a.getId()===o.getId()||1===(null==o?void 0:o.getRoleId()))&&(s=!0),i&&s}function Vt(e){var t=e.task,n=e.status,r=e.loggedUser,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeBy,o=new C.n(r);return[6].includes(Number(l))&&(i=!0),(a.getId()===o.getId()||1===(null==o?void 0:o.getRoleId()))&&(s=!0),i&&s}function Wt(e){var t=e.task,n=e.status,r=e.loggedUser,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeTo,o=r;return[1].includes(Number(l))&&(i=!0),a.getId()===o.getId()&&(s=!0),i&&s}function qt(e){var t=e.task,n=e.status,r=e.auth,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeBy;return[8].includes(Number(l))&&(i=!0),((null==a?void 0:a.getId())===(null==r?void 0:r.getId())&&4===(null==r?void 0:r.getRoleId())||1===(null==r?void 0:r.getRoleId()))&&(s=!0),i&&s}function Ht(e){var t=e.task,n=e.status,r=e.auth,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeBy;return[9].includes(Number(l))&&(i=!0),((null==a?void 0:a.getId())===(null==r?void 0:r.getId())&&4===(null==r?void 0:r.getRoleId())||1===(null==r?void 0:r.getRoleId()))&&(s=!0),i&&s}function Gt(e){var t=e.task,n=e.status,r=e.auth,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeBy;return[1,2,3].includes(Number(l))&&(i=!0),((null==a?void 0:a.getId())===(null==r?void 0:r.getId())&&4===(null==r?void 0:r.getRoleId())||1===(null==r?void 0:r.getRoleId()))&&(s=!0),i&&s}function $t(e){var t=e.task,n=e.status,r=e.auth,i=!1,s=!1,l=n?n.id:-1,a=null==t?void 0:t.assigneeTo,o=null==t?void 0:t.assignedBy;return[1,2,3].includes(Number(l))&&(i=!0),((null==a?void 0:a.getId())===(null==r?void 0:r.getId())||(null==o?void 0:o.getId())===(null==r?void 0:r.getId())&&v().includes([5,6,9,10],null==r?void 0:r.getRoleId())||1===(null==r?void 0:r.getRoleId()))&&(s=!0),i&&s}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Kt=function(e){var t,n,i=e.status,s=(0,L.v9)((function(e){return e.subTask})),a=s.task,o=s.subTask,c=(0,L.I0)(),d=(0,jt.s0)(),u=Jt(r.useState(null),2),m=u[0],f=u[1],p=Jt(r.useState("add"),2),x=p[0],g=p[1],y=Jt(r.useState(!1),2),j=y[0],N=y[1],w=Jt(r.useState(null),2),_=w[0],k=w[1],A=(0,K.Z)().width,S=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),O=function(){return N(!j)},I=function(){N(!1),g("add"),d("/account/tasks/".concat(null==a?void 0:a.id))},T=function(e,t){e.preventDefault(),f(t),N(!0)},E=function(){f(null),N(!1)},D=Jt((0,P.qX)("",{skip:null==o?void 0:o.length}),2),F=D[0],B=D[1].isFetching;r.useEffect((function(){a&&a.id&&F("/".concat(null==a?void 0:a.id,"/json?mode=sub_task")).unwrap().then((function(e){e&&c((0,Ke.ZS)(e))})).catch((function(e){console.log(e)}))}),[a]);var M=new ce.od(a);return(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:k,style:{zIndex:j?"99":""},children:[A>1200?(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(J,{toggleRef:_,isOpen:j,close:I,formMode:x,children:m?(0,l.jsx)(Rt,{close:E,editId:m}):(0,l.jsx)(Ft,{close:I,isFirstSubtask:!(B||null==o||!o.length)})})}):(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(h.Z,{isOpen:j,children:m?(0,l.jsx)(Rt,{close:E,editId:m}):(0,l.jsx)(Ft,{close:I,isFirstSubtask:!(B||null==o||!o.length)})})}),j&&(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:O,style:{zIndex:j?"110":""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(j?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsxs)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:[(0,l.jsxs)("div",{className:"f-16",children:[(0,l.jsx)("span",{children:"Sub Task"}),B&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),$t({task:M,auth:S,status:i})&&(0,l.jsx)(b.Z,{variant:"tertiary",className:"sp1_tark_add_item","aria-label":"addButton",onClick:O,children:j?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("i",{className:"fa-solid fa-xmark",style:{fontSize:"12px"}})," Close"]}):(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("i",{className:"fa-solid fa-plus",style:{fontSize:"12px"}}),"  Sub Task"]})})]}),(0,l.jsx)("div",{className:"sp1_task_right_card--body",children:B?(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#5A6169",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:[(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent",marginRight:"10px"}}),"Loading..."]}):0!==v().size(o)?null==o?void 0:o.map((function(e){return(0,l.jsx)(ut,{subTask:e,task:a,status:i,toggleEditForm:T},e.id)})):(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#B4BCC4",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:"Sub Task is Not Available"})})]})};var Qt=n(79655);const en=function(e){var t=e.note;return(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between sp1_tark_right_item",children:[(0,l.jsx)("div",{className:"w-100 text-ellipsis",children:(null==t?void 0:t.title)||"Untitled"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(Qt.rU,{to:"?note=".concat(t.id,"&type=view"),className:"mr-2 py-2 sp1_task_righ_action_btn",children:(0,l.jsx)("i",{className:"fa-regular fa-eye"})}),(0,l.jsx)(Qt.rU,{to:"?note=".concat(t.id,"&type=edit"),className:"mr-2 py-2 sp1_task_righ_action_btn",children:(0,l.jsx)("i",{className:"fa-regular fa-pen-to-square"})})]})]})};function tn(e){return function(e){if(Array.isArray(e))return sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||rn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ln=function(e){var t=e.isOpen,n=e.close,i=e.toggleRef,s=(0,L.v9)((function(e){return e.subTask})),a=s.task,o=s.notes,c=nn(r.useState([]),2),d=c[0],u=c[1],m=nn(r.useState(""),2),f=m[0],p=m[1],v=nn(r.useState(null),2),x=v[0],g=v[1],y=nn(r.useState(""),2),j=y[0],N=y[1],w=(0,L.I0)(),_=(0,K.Z)().width,k=nn((0,P.sZ)(),2),A=k[0],S=k[1].isLoading,C=function(e){if(e.preventDefault(),!f)return g("Title name required"),null;var t=new FormData;t.append("title",f),t.append("note",j),t.append("taskId",null==a?void 0:a.id),t.append("_token",document.querySelector("meta[name='csrf-token']").getAttribute("content")),Array.from(d).forEach((function(e){t.append("file[]",e)})),A(t).unwrap().then((function(e){if("success"===(null==e?void 0:e.status)){var t=tn(o);t.push(null==e?void 0:e.note),w((0,Ke.XF)(t)),Swal.fire({position:"center",icon:"success",title:"Data has been stored Successfully",showConfirmButton:!1,timer:2500}),n()}})).catch((function(e){console.log(e)}))},O=function(e,t){var n=t.getData();N(n)},I=function(){return(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsx)("h6",{children:"Write Notes"}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:n,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body",children:(0,l.jsxs)("div",{className:"py-3",children:[(0,l.jsx)(xt,{id:"title",label:"Title",type:"text",placeholder:"Enter a task title",name:"title",required:!0,value:f,error:x,onChange:function(e){return function(e,t){e.preventDefault(),t(e.target.value)}(e,p)}}),(0,l.jsxs)("div",{className:"sp1_st_write_comment_editor",style:{minHeight:"100px"},children:[(0,l.jsx)("h6",{className:"mb-3 f-14",style:{color:"#777"},children:"Write Note"}),(0,l.jsx)(F.Z,{onChange:O})]}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h6",{className:"mb-3 f-14",style:{color:"#777"},children:"Upload Files"}),(0,l.jsx)(B.Z,{files:d,setFiles:u})]}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(b.Z,{variant:"secondary",className:"mr-2",onClick:n,children:"Cancel"}),S?(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):(0,l.jsxs)(b.Z,{onClick:C,children:[(0,l.jsx)("i",{className:"fa-regular fa-paper-plane"}),"Keep as Notes"]})]})})]})})]})};return _>1200?(0,l.jsx)(J,{isOpen:t,toggleRef:i,children:(0,l.jsx)(r.Fragment,{children:I()})}):(0,l.jsx)(h.Z,{isOpen:t,children:(0,l.jsx)(r.Fragment,{children:I()})})};function an(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||cn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const un=function(e){var t=e.isOpen,n=e.close,i=e.toggleRef,s=(0,L.v9)((function(e){return e.subTask})),a=s.task,o=s.notes,c=on(r.useState([]),2),d=c[0],u=c[1],m=on(r.useState(""),2),f=m[0],p=m[1],v=on(r.useState(null),2),x=v[0],g=v[1],y=on(r.useState(""),2),j=y[0],N=y[1],w=on(r.useState([]),2),_=w[0],k=w[1],A=(0,L.I0)(),S=(0,K.Z)().width,C=on((0,Qt.lr)(),1)[0],O=C.get("note"),I=C.get("type"),T=on((0,P.wu)(),2),E=T[0],D=T[1].isLoading,M=(0,P.GG)("/".concat(O,"/json?mode=task_note_edit"),{skip:!I||("edit"!==I||!O),refetchOnMountOrArgChange:!0}),Z=M.data,R=M.isFetching;(0,r.useEffect)((function(){Y(),!R&&Z&&(p(null==Z?void 0:Z.title),N(null==Z?void 0:Z.note),k((null==Z?void 0:Z.files)||[]))}),[Z,O,R]);var Y=function(){p(""),N(""),k([])},U=function(){Y(),n()},z=function(e){if(e.preventDefault(),!f)return g("Title name required"),null;var t=new FormData;t.append("title",f),t.append("note",j),t.append("taskId",null==a?void 0:a.id),t.append("_token",document.querySelector("meta[name='csrf-token']").getAttribute("content")),t.append("_method","PUT"),Array.from(d).forEach((function(e){t.append("file[]",e)})),E({data:t,id:O}).unwrap().then((function(e){if("success"===(null==e?void 0:e.status)){var t,n=an(o);n=null===(t=n)||void 0===t?void 0:t.map((function(t){var n;return Number(null==t?void 0:t.id)===Number(null==e||null===(n=e.note)||void 0===n?void 0:n.id)?null==e?void 0:e.note:t})),Swal.fire({position:"center",icon:"success",title:null==e?void 0:e.message,showConfirmButton:!1,timer:2500}),A((0,Ke.XF)(n)),U()}})).catch((function(e){console.log(e)}))},V=function(e,t){var n=t.getData();N(n)};r.useEffect((function(){document.getElementsByTagName("body")[0].style.cursor=D||R?"progress":"default"}),[D,R]);var W=on((0,P.MW)(),1)[0],q=function(e,t){W(null==t?void 0:t.id).unwrap();var n=an(_),r=null==n?void 0:n.indexOf(t);n.splice(r,1),k(n)},H=function(){return(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsxs)("h6",{children:["Update Notes",R&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:U,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-body",children:[R&&(0,l.jsx)("div",{className:"w-100",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1}}),(0,l.jsxs)("div",{className:"py-3",children:[(0,l.jsx)(xt,{id:"title",label:"Title",type:"text",placeholder:"Enter a task title",name:"title",required:!0,value:f,error:x,onChange:function(e){return function(e,t){e.preventDefault(),t(e.target.value)}(e,p)}}),(0,l.jsxs)("div",{className:"sp1_st_write_comment_editor pr-0",style:{minHeight:"100px"},children:[(0,l.jsx)("h6",{className:"mb-3 f-14",style:{color:"#777"},children:"Write Note"}),(0,l.jsx)(F.Z,{data:j,onChange:V})]}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h6",{className:"mb-3 f-14",style:{color:"#777"},children:"Upload Files"}),(0,l.jsx)(B.Z,{files:d,setFiles:u,previous:_,onPreviousFileDelete:q})]}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(b.Z,{variant:"secondary",className:"mr-2",onClick:U,children:"Cancel"}),D?(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):(0,l.jsxs)(b.Z,{onClick:z,children:[(0,l.jsx)("i",{className:"fa-regular fa-paper-plane"}),"Update"]})]})})]})]})]})};return S>1200?(0,l.jsx)(J,{isOpen:t,toggleRef:i,children:(0,l.jsx)(r.Fragment,{children:H()})}):(0,l.jsx)(h.Z,{isOpen:t,children:(0,l.jsx)(r.Fragment,{children:H()})})};function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const fn=function(e){var t=e.close,n=e.isOpen,i=e.toggleRef,s=mn((0,Qt.lr)(),1)[0],a=s.get("note"),o=s.get("type"),c=(0,K.Z)().width,d=(0,P.GG)("/".concat(a,"/json?mode=task_note_edit"),{skip:!o||("view"!==o||!a),refetchOnMountOrArgChange:!0}),u=d.data,m=d.isFetching,f=u?new C.n(u.user):null,p=function(){return(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsx)("h6",{children:"Notes"}),m&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2 mr-auto",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:t,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body",children:(0,l.jsx)("div",{className:"py-3",children:(0,l.jsx)("div",{children:m?(0,l.jsx)(l.Fragment,{children:"Loading..."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)("img",{src:null==f?void 0:f.getAvatar(),alt:"",width:40,height:40})}),(0,l.jsxs)("div",{className:"px-3",children:[(0,l.jsx)("h6",{className:"mb-0",children:null==f?void 0:f.getName()}),(0,l.jsx)("span",{className:"",style:{color:"#A5ACB5"},children:null==f?void 0:f.getDesignationName()})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h6",{className:"font-weight-bold",children:null==u?void 0:u.title}),(0,l.jsx)("div",{className:"sp1_ck_content mb-5",dangerouslySetInnerHTML:{__html:null==u?void 0:u.note}}),(null==u?void 0:u.files)&&(0,l.jsx)(B.Z,{previous:null==u?void 0:u.files,mode:"preview"})]})]})})})})]})};return c>1200?(0,l.jsx)(J,{isOpen:n,toggleRef:i,children:(0,l.jsx)(r.Fragment,{children:p()})}):(0,l.jsx)(h.Z,{isOpen:n,children:(0,l.jsx)(r.Fragment,{children:p()})})};function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const xn=function(){var e=(0,L.v9)((function(e){return e.subTask})),t=e.task,n=e.notes,i=pn(r.useState(""),2),s=i[0],a=i[1],o=pn(r.useState(null),2),c=o[0],d=o[1],u=(0,L.I0)(),m=(0,jt.s0)(),h=pn((0,Qt.lr)(),1)[0].get("type"),f=pn((0,P.qX)("",{skip:null==n?void 0:n.length}),2),p=f[0],v=f[1].isFetching;r.useEffect((function(){a(h||"")}),[h]),r.useEffect((function(){t&&t.id&&p("/".concat(null==t?void 0:t.id,"/json?mode=task_note")).unwrap().then((function(e){e&&u((0,Ke.XF)(e))})).catch((function(e){console.log(e)}))}),[t]);var x=function(e){m("/account/tasks/".concat(t.id))};return(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:d,style:{zIndex:s?"99":""},children:[(0,l.jsxs)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:[(0,l.jsx)("span",{className:"f-16",children:"Notes"}),v&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2 mr-auto",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}}),(0,l.jsx)(b.Z,{variant:"tertiary",className:"sp1_tark_add_item","aria-label":"addButton",onClick:function(){return m("?type=create")},children:"create"===s?(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("i",{className:"fa-solid fa-xmark",style:{fontSize:"12px"}})," Close "]}):(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("i",{className:"fa-solid fa-plus",style:{fontSize:"12px"}})," Note  "]})})]}),s&&(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:x,style:{zIndex:s?"110":""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(s?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsx)(ln,{close:x,isOpen:"create"===s,toggleRef:c}),(0,l.jsx)(un,{close:x,isOpen:"edit"===s,toggleRef:c}),(0,l.jsx)(fn,{close:x,isOpen:"view"===s,toggleRef:c}),(0,l.jsx)("div",{className:"sp1_task_right_card--body",children:v?(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#5A6169",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:[(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent",marginRight:"10px"}}),"Loading..."]}):(null==n?void 0:n.length)>0?n.map((function(e){return(0,l.jsx)(en,{note:e},e.id)})):(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#B4BCC4",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:"Empty Notes"})})]})};const gn=function(e){var t=e.isOpen,n=e.close,i=e.toggle,s=e.data,a=e.isLoading,o=_.compact(_.split(null==s?void 0:s.links,",")),c=_.compact(_.split(null==s?void 0:s.attaches,",")),d=function(){var e;return(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel --modal-submitted",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("h6",{children:"Submitted Task "}),a&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:n,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body --modal-submitted-body",children:(0,l.jsxs)("div",{className:"mt-3 d-flex flex-column",style:{gap:"10px"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"fs-14 font-weight-bold d-block mb-3",style:{color:"#767581"},children:"Submitted By"}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("div",{children:null!=s&&s.image?(0,l.jsx)("img",{src:"/user-uploads/avatar/".concat(null==s?void 0:s.image),alt:null==s?void 0:s.name,width:32,height:32,className:"rounded-circle"}):(0,l.jsx)("div",{className:"sp1-item-center rounded-circle border",style:{width:"32px",height:"32px"},children:(0,l.jsx)("span",{className:"font-weight-bold",style:{fontSize:"1.2rem"},children:null==s||null===(e=s.name)||void 0===e?void 0:e.slice(0,1)})})}),(0,l.jsxs)("div",{className:"d-flex flex-column px-2",children:[(0,l.jsxs)("a",{className:"text-underline text-primary",href:"/account/employees/".concat(null==s?void 0:s.user_id),style:{color:"#767581"},children:[" ",null==s?void 0:s.name," "]}),(0,l.jsxs)("span",{className:"d-block",style:{color:"#767581"},children:[I()(null==s?void 0:s.submission_date).format("MMM DD, YYYY")," at ",I()(null==s?void 0:s.submission_date).format("hh:mm a")]})]})]})]}),(0,l.jsxs)("div",{className:"d-flex flex-column mt-3",style:{gap:"10px"},children:[(0,l.jsx)("span",{className:"d-block fs-14 font-weight-bold",style:{color:"#767581"},children:" Links "}),(0,l.jsx)("ul",{style:{listStyle:"unset",marginLeft:"30px"},children:null==o?void 0:o.map((function(e,t){return(0,l.jsx)("li",{style:{listStyle:"unset"},children:(0,l.jsxs)("a",{className:"hover-underline text-primary",target:"_blank",href:e,children:[" ",e," "]})},e+t)}))})]}),(0,l.jsxs)("div",{className:"mt-2 mt-3",children:[(0,l.jsx)("span",{className:"d-block fs-12 font-weight-bold mb-2",style:{color:"#767581"},children:"Description"}),null!=s&&s.text?(0,l.jsx)("div",{className:"sp1_ck_content",dangerouslySetInnerHTML:{__html:null==s?void 0:s.text}}):(0,l.jsx)("span",{style:{color:"rgb(180, 188, 196)"},children:"No description is available"})]}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("span",{className:"d-block fs-12 font-weight-bold mb-2",style:{color:"#767581"},children:"Attached Files"}),_.size(c)>0?(0,l.jsx)(Qe.Z,{children:_.map(c,(function(e,t){return(0,l.jsx)(Qe.Z.Preview,{fileName:e,downloadAble:!0,deleteAble:!1,downloadUrl:"/storage/TaskSubmission/".concat(e),previewUrl:"/storage/TaskSubmission/".concat(e),fileType:_.includes(["png","jpg","jpeg","gif","svg"],_.last(_.split(e,".")))?"images":"others",ext:""},"".concat(e,"_").concat(t))}))}):(0,l.jsx)("span",{className:"",style:{color:"rgb(180, 188, 196)"},children:"No Attachment is available"})]})]})})]})};return(0,K.Z)().width>1200?(0,l.jsx)(J,{isOpen:t,toggleRef:i,children:d()}):(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(h.Z,{isOpen:t,children:[" ",d()," "]})})};function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const bn=function(e){var t=e.data,n=(e.toggle,e.modalRef),r=e.close,i=e.isLoading,s=yn((0,Qt.lr)(),1)[0].get("submitted-work")||0;return(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between sp1_tark_right_item",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("a",{className:"hover-underline text-primary",href:"/account/tasks/132?preview-type=modal&subtask=".concat(null==t?void 0:t.task_id),children:[" Task#",null==t?void 0:t.task_id," "]}),"(",null==t?void 0:t.submission_no,") submitted by ",(0,l.jsx)("a",{className:"hover-underline text-primary",href:"/account/employees/".concat(null==t?void 0:t.user_id),children:null==t?void 0:t.name})," "]}),(0,l.jsx)("div",{children:I()(null==t?void 0:t.submission_date).format("MMM DD, YYYY")}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(Qt.rU,{to:"?submitted-work=".concat(null==t?void 0:t.task_id).concat(null==t?void 0:t.submission_no),className:"mr-2 py-2 sp1_task_righ_action_btn",children:(0,l.jsx)("i",{className:"fa-regular fa-eye"})})}),Number(s)===Number("".concat(null==t?void 0:t.task_id).concat(null==t?void 0:t.submission_no))&&(0,l.jsx)(gn,{isOpen:Number(s)===Number("".concat(null==t?void 0:t.task_id).concat(null==t?void 0:t.submission_no)),toggle:n,data:t,close:r,isLoading:i})]})};var Nn=n(59734);const wn=function(e){var t=e.data;return(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between sp1_tark_right_item px-0 py-2",styte:{gap:"16px"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("a",{className:"hover-underline text-primary",href:"/account/tasks/132?preview-type=modal&subtask=".concat(null==t?void 0:t.task_id),children:["Task#",null==t?void 0:t.task_id]}),"(",null==t?void 0:t.submission_no,") submitted by ",(0,l.jsx)("a",{className:"hover-underline text-primary",href:"/account/employees/".concat(null==t?void 0:t.user_id),children:null==t?void 0:t.name})," "]}),(0,l.jsx)("div",{children:I()(null==t?void 0:t.submission_date).format("MMM DD, YYYY")}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(Qt.rU,{to:"?submitted-work=".concat(null==t?void 0:t.task_id).concat(null==t?void 0:t.submission_no),className:"mr-2 py-2 sp1_task_righ_action_btn",children:(0,l.jsx)("i",{className:"fa-regular fa-eye"})})})]})};const _n=function(e){var t=e.isOpen,n=e.toggle,i=e.data,s=e.close,a=e.isLoading,o=function(){return(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel --modal-submitted",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("h6",{children:"Submitted Task "}),a&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:s,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body px-0",children:null==i?void 0:i.map((function(e){return(0,l.jsx)(wn,{data:e},"".concat(e.task_id,"_").concat(e.submission_no))}))})]})};return(0,K.Z)().width>1200?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(J,{isOpen:t,toggleRef:n,children:[" ",o()," "]})}):(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(h.Z,{isOpen:t,children:[" ",o()," "]})})};function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sn=function(e){return axios.get(e).then((function(e){return e.data}))};const Cn=function(e){var t=e.task,n=kn(r.useState(null),2),i=n[0],s=n[1],a=kn(r.useState(!1),2),o=(a[0],a[1],(0,jt.s0)()),c=(0,jt.TH)(),d=(0,Nn.ZP)("/account/tasks/get-task-submissions/".concat(null==t?void 0:t.id),Sn,{refreshInterval:36e5}),u=d.data,m=(d.error,d.isLoading),h=kn((0,Qt.lr)(),1)[0],f=h.get("submitted-work"),p=h.get("view-modal"),x=function(e){e.preventDefault(),f||p?c.state&&c.state.from?o(c.state.from):o("/account/tasks/".concat(null==t?void 0:t.id)):o("/account/tasks/".concat(null==t?void 0:t.id,"?view-modal=submitted-work"))},g=function(){c.state&&c.state.from?o(c.state.from):o("/account/tasks/".concat(null==t?void 0:t.id))};return(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:s,style:{zIndex:f||"submitted-work"===p?99:""},children:[(0,l.jsxs)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:[(0,l.jsx)("span",{className:"f-16",children:"Submitted Works"}),m&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2 mr-auto",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),v().size(u)>0&&(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:x,style:{zIndex:f||"submitted-work"===p?"110":""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(f||"submitted-work"===p?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsx)(_n,{isOpen:"submitted-work"===p,toggle:i,data:v().orderBy(u,["task_id","submission_no"],["desc","desc"]),close:g,isLoading:m}),(0,l.jsx)("div",{className:"sp1_task_right_card--body",children:v().size(u)>0?v().map(v().orderBy(u,["task_id","submission_no"],["desc","desc"]),(function(e){return(0,l.jsx)(bn,{data:e,toggle:x,close:g,isLoading:m,modalRef:i},(null==e?void 0:e.submission_date)+(null==e?void 0:e.submission_no))})):(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#B4BCC4",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:"No Submitted Work is Available"})})]})};const On=function(e){var t=e.log,n=null!=t&&t.user?new C.n(t.user):null;return(0,l.jsxs)("tr",{className:"__tbody_tr",children:[(0,l.jsxs)("td",{className:"__tbody_td _tbody_td_employee",children:[(0,l.jsx)("img",{src:null==n?void 0:n.getAvatar(),alt:null==n?void 0:n.getName()}),(0,l.jsx)("span",{className:"px-2",children:null==n?void 0:n.getName()})]}),(0,l.jsxs)("td",{className:"__tbody_td _tbody_td_start_time",children:[I()(null==t?void 0:t.start_time).format("MMM DD, YYYY")," ",(0,l.jsx)("br",{}),I()(null==t?void 0:t.start_time).format("hh:mm a")]}),(0,l.jsx)("td",{className:"__tbody_td _tbody_td_start_time _tbody_td_start_end",children:null!=t&&t.end_time?(0,l.jsxs)(l.Fragment,{children:[I()(null==t?void 0:t.end_time).format("MMM DD, YYYY")," ",(0,l.jsx)("br",{}),I()(null==t?void 0:t.start_time).format("hh:mm a")]}):(0,l.jsx)("span",{className:"text-success font-weight-bold",children:"Active"})}),(0,l.jsx)("td",{className:"__tbody_td _tbody_td_memo",children:null==t?void 0:t.memo}),(0,l.jsx)("td",{className:"__tbody_td _tbody_td_hour_logged",children:null==t?void 0:t.hours_logged})]})};var In=n(61076),Tn=function(e){var t=e.data;return(0,l.jsxs)("table",{className:"sp1_subtask_log-tbl",children:[(0,l.jsx)("thead",{className:"__thead",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Employee"}),(0,l.jsx)("th",{children:"Start Time"}),(0,l.jsx)("th",{children:"End Time"}),(0,l.jsx)("th",{children:"Memo"}),(0,l.jsx)("th",{children:"Hours Logged"})]})}),(0,l.jsx)("tbody",{className:"__tbody",children:t?t.map((function(e){return(0,l.jsx)(On,{log:e},e.id)})):null})]})},En=function(e){var t=e.log,n=e.className,r=new C.n(t.user);return(0,l.jsxs)("div",{className:"border-bottom ".concat(n),children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[(0,l.jsx)(In.Z,{src:null==r?void 0:r.getAvatar(),name:null==r?void 0:r.getName(),alt:null==r?void 0:r.getName(),type:"circle"}),(0,l.jsx)("h6",{children:null==r?void 0:r.getName()})]}),(0,l.jsxs)("div",{className:"d-flex flex-column flex-wrap ml-5",style:{gap:"4px"},children:[(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Memo:"})," ",null==t?void 0:t.memo]}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Hours Logged:"})," ",null==t?void 0:t.hours_logged]}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Start Time:"})," ",I()(null==t?void 0:t.start_time).format("MMM DD, YYYY hh:mm a")," "]}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"End Time:"})," ",I()(null==t?void 0:t.end_time).format("MMM DD, YYYY hh:mm a")," "]})]})]})},Dn=function(e){var t=e.data;return(0,l.jsx)("div",{className:"d-flex flex-column",style:{gap:"10px"},children:v().map(t,(function(e){return(0,l.jsx)(En,{log:e,className:"w-100 py-2"},e.id)}))})};const Fn=function(e){var t=e.isOpen,n=e.close,i=e.toggle,s=e.data,a=void 0===s?[]:s,o=r.useRef(null),c=(0,K.Z)().width;(0,f.Z)(o,n);var d=function(){return(0,l.jsxs)("div",{ref:o,className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsx)("h6",{children:"Session Logs"}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:n,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body",children:(0,l.jsx)("div",{className:"mt-3",children:c>800?(0,l.jsx)(Tn,{data:a}):(0,l.jsx)(Dn,{data:a})})})]})};return c>1200?(0,l.jsx)(J,{isOpen:t,toggleRef:i,children:(0,l.jsx)(r.Fragment,{children:d()})}):(0,l.jsx)(h.Z,{isOpen:t,children:(0,l.jsx)(r.Fragment,{children:d()})})};const Bn=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between sp1_tark_right_item py-2",style:{gap:"10px",height:"30px"},children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(Q.V,{width:"24px",height:"24px",type:"circle",className:"mr-2"}),(0,l.jsx)("span",{className:"sp1_time_log_emplyee_name",children:(0,l.jsx)(Q.V,{width:"100px"})})]}),(0,l.jsx)("div",{children:(0,l.jsx)(Q.V,{height:"10px",width:"50px"})}),(0,l.jsx)("div",{children:(0,l.jsx)(Q.V,{height:"10px",width:"50px"})}),(0,l.jsx)("div",{children:(0,l.jsx)(Q.V,{height:"10px",width:"50px"})})]})};function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mn=(0,r.lazy)((function(){return n.e(369).then(n.bind(n,21369))}));const Zn=function(){var e=(0,L.v9)((function(e){return e.subTask})),t=e.task,n=e.timeLogs,i=Ln(r.useState(null),2),s=i[0],a=i[1],o=Ln(r.useState(!1),2),c=o[0],d=o[1],u=(0,L.I0)(),m=Ln((0,P.qX)("",{skip:null==n?void 0:n.length}),2),h=m[0],f=m[1].isFetching;r.useEffect((function(){t&&t.id&&h("/".concat(null==t?void 0:t.id,"/json?mode=task_time_log")).unwrap().then((function(e){e&&u((0,Ke.al)(e))})).catch((function(e){console.log(e)}))}),[t]);return(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:a,style:{zIndex:c?"99":""},children:[(0,l.jsxs)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:[(0,l.jsx)("span",{className:"f-16",children:"Session Logs"}),f&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2 mr-auto",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),v().size(n)>0&&(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:function(){return d(!c)},style:{zIndex:c?110:""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(c?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsx)(Fn,{isOpen:c,close:function(){return d(!1)},toggle:s,data:n}),(0,l.jsx)("div",{className:"sp1_task_right_card--body",children:v().size(n)>0?v().map(n,(function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(Bn,{}),children:(0,l.jsx)(Mn,{log:e})})},e.id)})):(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#B4BCC4",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:"No Logged Session is Available"})})]})};const Rn=function(){return(0,l.jsxs)("div",{className:"d-flex align-items-center sp1_tark_right_item py-2",children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)(Q.V,{width:48,height:48})}),(0,l.jsxs)("div",{className:"px-3 w-100",children:[(0,l.jsx)(Q.V,{className:"mb-2"}),(0,l.jsx)(Q.V,{})]})]})};var Yn=(0,r.lazy)((function(){return n.e(67).then(n.bind(n,41067))}));const Un=function(e){var t=e.isOpen,n=e.close,i=e.toggle,s=e.data,a=void 0===s?[]:s,o=function(){return(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel-header",children:[(0,l.jsx)("h6",{children:" History "}),(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal",onClick:n,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body",children:(0,l.jsx)("div",{className:"mt-3",children:a?a.map((function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(Rn,{}),children:(0,l.jsx)(Yn,{history:e})})},e.id)})):null})})]})};return(0,K.Z)().width>1200?(0,l.jsx)(J,{isOpen:t,toggleRef:i,children:(0,l.jsx)(r.Fragment,{children:o()})}):(0,l.jsx)(h.Z,{isOpen:t,children:(0,l.jsx)(r.Fragment,{children:o()})})};function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn=(0,r.lazy)((function(){return n.e(334).then(n.bind(n,74334))})),qn=function(e){return axios.get(e).then((function(e){return e.data}))};const Hn=function(){var e=(0,L.v9)((function(e){return e.subTask})),t=e.task,n=e.histories,i=zn(r.useState(null),2),s=i[0],a=i[1],o=zn(r.useState(!1),2),c=o[0],d=o[1],u=(0,L.I0)(),m=(0,Nn.ZP)("/account/task/".concat(t.id,"/json?mode=task_history"),qn,{refreshInterval:5e3}),h=m.data,f=(m.error,m.isLoading);r.useEffect((function(){!f&&h&&u((0,Ke.ko)(h))}),[h,f]);return(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:a,style:{zIndex:c?99:""},children:[(0,l.jsxs)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:[(0,l.jsx)("span",{className:"f-16",children:"History"}),f&&(0,l.jsx)("div",{className:"spinner-border text-dark ml-2 mr-auto",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent"}})]}),(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:function(){return d(!c)},style:{zIndex:c?"110":""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(c?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsx)(Un,{isOpen:c,close:function(){return d(!1)},data:n,toggle:s}),(0,l.jsx)("div",{className:"sp1_task_right_card--body",children:f?(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#5A6169",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:[(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgba(0, 0, 0, .25)",borderRightColor:"transparent",marginRight:"10px"}}),"Loading..."]}):n?n.map((function(e){return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsxs)("div",{className:"sp1_tark_right_item py-2 ",children:[" ",(0,l.jsx)(Q.V,{})," "]}),children:(0,l.jsx)(Wn,{history:e})})},e.id)})):(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{color:"#B4BCC4",fontSize:"15px",textAlign:"center",height:"100%",width:"100%"},children:"Empty History"})})]})};var Gn=n(9669),$n=n.n(Gn);const Jn=function(e){var t=e.close,n=e.isOpen,r=e.toggleRef;e.comment;return(0,l.jsx)(J,{isOpen:n,toggleRef:r,children:(0,l.jsxs)("div",{className:"sp1-subtask-form --modal-panel",children:[(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-header",children:(0,l.jsx)(b.Z,{"aria-label":"close-modal",className:"_close-modal ml-auto",onClick:t,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsx)("div",{className:"sp1-subtask-form --modal-panel-body",children:(0,l.jsx)("div",{className:"py-3",children:(0,l.jsx)("div",{})})})]})})};function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qn=function(e){return $n().get(e).then((function(e){return e.data}))};const er=function(e){var t=e.task,n=Xn(r.useState(null),2),i=n[0],s=n[1],a=Xn(r.useState(!1),2),o=a[0],c=a[1],d=function(e){e.preventDefault(),c(!o)},u=(0,Nn.ZP)("/account/task/".concat(t.id,"/json?mode=task_approve"),Qn),m=u.data,h=(u.error,u.isLoading,null==m?void 0:m.comment),f=(null==h?void 0:h.length)>250,p=f?null==h?void 0:h.slice(0,250):h;return p=p||"<span className='' style=\"color: #A7A9B2\">No Comment is Available</span>",(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",ref:s,style:{maxHeight:"450px"},children:[o&&(0,l.jsx)("button",{"aria-label":"openCommentModalButton",className:"sp1_task_right_dl_toggle",onClick:d,style:{zIndex:o?"110":""},children:(0,l.jsx)("i",{className:"fa-solid fa-circle-chevron-".concat(o?"right":"left"),style:{color:"#276fec"}})}),(0,l.jsx)("div",{className:"d-flex border-bottom pb-2 align-items-center justify-content-between mb-2 font-weight-bold",children:(0,l.jsx)("span",{className:"f-16",children:"Task Review"})}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Deadline Meet : "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==m?void 0:m.deadline_meet)})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Submission Quality: "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==m?void 0:m.submission_quality)})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Req. Fullfillment: "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==m?void 0:m.req_fullfillment)})})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",style:{width:"150px"},children:"Overall Task Ratings: "}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)(je,{rating:Number(null==m?void 0:m.overall_tasks)})})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("span",{className:"font-weight-bold d-block mb-1",children:"Comments:"}),(0,l.jsxs)("div",{style:{color:"#777",fontSize:"13px"},children:[(0,l.jsx)("div",{className:"sp1_ck_content",dangerouslySetInnerHTML:{__html:p}}),f&&(0,l.jsx)("a",{href:"#",onClick:d,children:"Read More"})]})]}),(0,l.jsx)(Jn,{isOpen:o,toggleRef:i,close:function(e){c(!1)},comment:null==m?void 0:m.comment})]})};function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const rr=function(e){var t=e.isOpen,n=e.onConfirm,i=tr(r.useState(!1),2),s=i[0],a=i[1],o=tr(r.useState(20),2),c=o[0],d=o[1];return r.useEffect((function(){var e=null!=c?c:0,t=setInterval((function(){d(e--)}),1e3),n=setTimeout((function(){a(!0),clearInterval(t)}),22e3);return function(){clearTimeout(n),clearInterval(t)}}),[]),(0,l.jsx)(h.Z,{isOpen:t,className:"subtask-timer-confirmation--modal",children:(0,l.jsx)("div",{className:"subtask-timer-confirmation--panel",children:(0,l.jsxs)("div",{className:"subtask-timer-confirmation--content",children:[(0,l.jsx)("h4",{className:"mb-3",children:" Do You Understand The Following Things? "}),(0,l.jsxs)("ol",{type:"A",children:[(0,l.jsx)("li",{children:" Your job is not to decide what the look and feel of a website will be based on a few reference websites. "}),(0,l.jsx)("li",{children:"Your job is not to research a theme based on an instruction shared by the PM."}),(0,l.jsx)("li",{children:"Your job is not to research a plugin based on a problem shared by PM."}),(0,l.jsx)("li",{children:"Your job is not to choose the color scheme of a website."}),(0,l.jsx)("li",{children:"Your job is not to talk to the support for example the Shopify support team, theme support, plugin support and any other support for any solution."}),(0,l.jsx)("li",{children:"Your job is not to create the training videos for the client after the completion of a project."}),(0,l.jsx)("li",{children:"You understand that all your hours have to be logged/tracked, and you will be questioned if you don’t log at least 7 hours for any reason."})]}),(0,l.jsx)("p",{children:"In general, anything that has to do with requirements define (of any sort) has to be done by the project manager. Your job is to execute the work based on the defined requirements. "}),(0,l.jsx)("p",{children:"If for any reason, project manager needs your help for any of those things, he will have to create a separate task for each of them and those tasks have to be authorized by the top management mandatorily. Report immediately if you are asked to do any of these and if it wasn’t authorized by top management. You should see a text like “Authorized by top management” on the right side of the task title if it was authorized."}),(0,l.jsx)("p",{children:" In case, you don’t report, the extra time taken for these will be considered as your lacking (as they will remain unaccountable) and you will receive negative performance score.”"}),(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsxs)(b.Z,{onClick:n,className:"ml-auto",disabled:!s,children:["Yes, I Fully Understand This ",!s&&"(".concat(c,")")]})})]})})})};new At.s;var ir=r.lazy((function(){return n.e(73).then(n.bind(n,44073))}));const sr=function(e){var t=e.stopTimer,n=e.startTimer,i=(0,L.v9)((function(e){return e.subTask})),s=(i.task,i.lessTrackModal),a=i.lessTrackModalFor,o=(0,L.I0)(),c=function(){o((0,Ke.sX)({show:!1,type:""}))};return(0,l.jsx)(h.Z,{isOpen:s,className:"sp1_single_task--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"sp1_single_task--modal-panel",children:(0,l.jsx)(he.Z,{})}),children:(0,l.jsx)(ir,{handleTemporarilyStopTimer:function(){"STOP_TIMER"===a&&t(),"START_TIMER"===a&&n(),c()},close:c})})})})};function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const or=function(e){var t,n,i,s=e.task,a=e.timerStart,o=e.setTimerStart,c=e.auth,d=lr((0,r.useState)(null),2),u=d[0],m=d[1],h=lr((0,r.useState)(0),2),f=h[0],p=h[1],x=lr((0,r.useState)(!1),2),g=x[0],y=x[1],j=(0,L.I0)(),N=new At.s,w=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),_=null==s||null===(i=s.ranningTimer)||void 0===i?void 0:i.status,k=(0,r.useMemo)((function(){return _}),[_]);(0,r.useEffect)((function(){if("running"===k){var e,t,n=null==s||null===(e=s.ranningTimer)||void 0===e?void 0:e.time,r=N.dayjs().unix()-n;o(!0),p(r),m(null==s||null===(t=s.ranningTimer)||void 0===t?void 0:t.id)}}),[k]),(0,r.useEffect)((function(){var e=null;return a?e=setInterval((function(){p((function(e){return e+1}))}),1e3):clearInterval(e),function(){return clearInterval(e)}}),[a]);var A,S,O,I,T,E,D=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0}),F=lr((0,P.qX)(),2),B=F[0],M=F[1].isFetching,Z=lr((0,P.C0)(),2),R=Z[0],Y=Z[1].isLoading,U=lr((0,P.DC)(),2),z=U[0],V=U[1].isLoading,W=function(){var e,t,n;y(!1),R({task_id:null==s?void 0:s.id,project_id:null==s?void 0:s.projectId,memo:null==s?void 0:s.title,user_id:null===(e=window)||void 0===e||null===(t=e.Laravel)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id}).unwrap().then((function(e){"success"===(null==e?void 0:e.status)||200===(null==e?void 0:e.status)?(o(!0),m(null==e?void 0:e.id),j((0,Ke.Qr)(null==e?void 0:e.task_status)),D.fire({icon:"success",title:v().startCase(null==e?void 0:e.message)})):D.fire({icon:"warning",title:v().startCase(null==e?void 0:e.message)})})).catch((function(e){400===e.status&&Swal.fire({title:"You have not meet last day's minimum hour count. Please share the reasons!",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"Close",icon:"warning"}).then((function(t){var n;t.isConfirmed&&j((0,Ke.sX)({show:!0,type:"START_TIMER",date:N.dayjs(null==e||null===(n=e.data)||void 0===n?void 0:n.date).format("MMM DD, YYYY")}))}))}))},q=function(){z({timeId:u}).unwrap().then((function(e){"success"===(null==e?void 0:e.status)||200===(null==e?void 0:e.status)?(D.fire({icon:"success",title:v().startCase(null==e?void 0:e.message)}),o(!1),p(0),u(null)):D.fire({icon:"warning",title:v().startCase(null==e?void 0:e.message)})}))},H=lr((0,P.ji)(),2),G=H[0],$=H[1].isFetching;return(0,r.useEffect)((function(){document.getElementsByTagName("body")[0].style.cursor=M||Y?"progress":"default"}),[M,Y]),(0,l.jsxs)(r.Fragment,{children:[a?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"tertiary",className:"d-flex align-items-center btn-outline-dark text-dark",children:[(0,l.jsx)("i",{className:"fa-solid fa-stopwatch"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:(A=Math.floor(f/3600),S=Math.floor(f%3600/60),O=Math.floor(f%3600%60),I=O<10?"0".concat(O):O,T=S<10?"0".concat(S):S,E=A<10?"0".concat(A):A,"".concat(E,":").concat(T,":").concat(I))})]}),$?(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):V?(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Stopping..."]}):(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(){G(null==w?void 0:w.getId()).unwrap().then((function(e){if(e){var t=N.dayjs(e.current_time),n=t.set("hour",16).set("minute",30).set("second",0);6===t.day()&&(n=t.set("hour",12).set("minute",30).set("second",0));var r=N.dayjs(t).isBefore(n),i=v().includes([5,9,10],Number(c.getRoleId()));!r&&i&&e.tracked_times<e.target_time?j((0,Ke.sX)({show:!0,type:"STOP_TIMER",date:"Today"})):q()}})).catch((function(e){return console.log(e)}))},className:"d-flex align-items-center btn-outline-dark text-dark",children:[(0,l.jsx)("i",{className:"fa-solid fa-pause"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Stop Timer"})]})]}):(0,l.jsxs)(r.Fragment,{children:[Y||M?(0,l.jsxs)(b.Z,{className:"cursor-processing mr-2",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Starting..."]}):(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(e){e.preventDefault(),B("/".concat(null==s?void 0:s.id,"/json?mode=developer_first_task_check&project_id=").concat(null==s?void 0:s.projectId)).unwrap().then((function(e){e.is_first_task?y(!0):W()}))},className:"d-flex align-items-center btn-outline-dark text-dark",children:[(0,l.jsx)("i",{className:"fa-solid fa-circle-play"}),(0,l.jsx)("span",{children:"Start Timer"})]}),(0,l.jsx)(rr,{isOpen:g,onConfirm:W})]}),(0,l.jsx)(sr,{stopTimer:q,startTimer:W})]})};function cr(e){return function(e){if(Array.isArray(e))return mr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||ur(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){if(e){if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mr(e,t):void 0}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const hr=function(e){var t=e.task,n=e.auth,i=((0,L.I0)(),dr((0,r.useState)([""]),2)),s=i[0],a=i[1],o=dr((0,r.useState)(""),2),c=o[0],d=o[1],u=dr((0,r.useState)([]),2),m=u[0],f=u[1],p=dr((0,r.useState)(""),2),x=p[0],g=p[1],y=dr((0,r.useState)(""),2),j=y[0],N=y[1],w=dr((0,P.Em)(),2),_=w[0],k=w[1].isLoading,A=dr((0,P.Tp)(),2),S=A[0],C=A[1].isFetching,O=dr((0,r.useState)(!1),2),I=O[0],T=O[1],E=function(){T(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(){6===n.getRoleId()?S(null==t?void 0:t.id).unwrap().then((function(e){"true"===e.status||!0===e.status?Swal.fire({title:"You can't complete this task because you have some pending subtask?",confirmButtonText:"Ok"}):T(!I)})):T(!I)},className:"d-flex align-items-center btn-outline-dark text-dark",children:[C?(0,l.jsx)(he.Z,{title:"Processing..."}):(0,l.jsx)("i",{className:"fa-solid fa-check"}),(0,l.jsxs)("span",{className:"d-inline ml-1",children:[" ",C?"":"Mark As Complete"]})]}),(0,l.jsx)(h.Z,{isOpen:I,className:"sp1_mark-as--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:(0,l.jsxs)("div",{className:"sp1_mark-as--modal-panel",children:[(0,l.jsxs)("div",{className:"sp1_mark-as--modal-heading",children:[(0,l.jsx)("h6",{className:"mb-0",children:"Submit Task"}),(0,l.jsx)(b.Z,{"aria-label":"closeModal",onClick:E,children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)("div",{className:"sp1_mark-as--modal-body px-3",style:{overflow:"unset"},children:(0,l.jsxs)("form",{children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"exampleFormControlInput1",children:["Submit Links What You've Done",(0,l.jsx)("sup",{children:"*"}),(0,l.jsx)("span",{className:"ml-2","data-toggle":"tooltip","data-placement":"top",title:"Submit Links What You've Done","data-boundary":"window",style:{cursor:"pointer"},children:(0,l.jsx)("i",{className:"fa-regular fa-circle-question"})})]}),null==s?void 0:s.map((function(e,t){return(0,l.jsxs)("div",{className:"mark-as-compeleted-link mb-2",children:[(0,l.jsx)("input",{type:"text",className:"form-control py-2",id:"exampleFormControlInput1",placeholder:"--",value:e,onChange:function(e){return function(e,t){var n=cr(s);n[t]=e.target.value,a(n)}(e,t)}}),(null==s?void 0:s.length)>1&&(0,l.jsx)("button",{onClick:function(e){return n=t,(r=cr(s)).splice(n,1),void a(r);var n,r},children:(0,l.jsx)("i",{className:"fa-regular fa-trash-can"})})]},t)})),c&&(0,l.jsx)("small",{id:"emailHelp",class:"form-text text-danger",children:c}),(0,l.jsxs)("button",{className:"mt-2 d-flex align-items-center bg-transparent",style:{gap:"10px"},onClick:function(e){e.preventDefault(),a((function(e){return[].concat(cr(e),[""])}))},children:[(0,l.jsx)("i",{className:"fa-solid fa-circle-plus"}),"Add Another Link"]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"exampleFormControlInput1",children:["Attachments",(0,l.jsx)("span",{className:"ml-2","data-toggle":"tooltip","data-placement":"top",title:"Attachment","data-boundary":"window",style:{cursor:"pointer"},children:(0,l.jsx)("i",{className:"fa-regular fa-circle-question"})})]}),(0,l.jsxs)(Qe.Z,{files:m,setFiles:f,children:[(0,l.jsx)(Qe.Z.Input,{}),(0,l.jsx)(Qe.Z.SelectedFiles,{children:function(e){var t,n=e.previews,r=e.onDelete;return null===(t=Array.from(n))||void 0===t?void 0:t.map((function(e,t){return(0,l.jsx)(Qe.Z.Preview,{id:t,fileName:e.name,previewUrl:e.preview,fileType:e.type,onRemove:r},t)}))}})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"exampleFormControlInput1",style:{maxWidth:"95%"},children:["Mention clearly if anything asked in the instruction couldn't be done or if there is anything else your reporting boss should know while approving or rejecting this task",(0,l.jsx)("sup",{children:"*"}),(0,l.jsx)("span",{className:"ml-2","data-toggle":"tooltip","data-placement":"top",title:"Describe What You've Done","data-boundary":"window",style:{cursor:"pointer"},children:(0,l.jsx)("i",{className:"fa-regular fa-circle-question"})})]}),(0,l.jsx)("div",{className:"ck-editor-holder stop-timer-options",children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();g(n)}})}),j&&(0,l.jsx)("small",{id:"emailHelp",class:"form-text text-danger",children:j})]}),(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,l.jsx)(b.Z,{variant:"tertiary",className:"ml-auto mr-2",onClick:E,children:"Close"}),(0,l.jsx)(Xe.Z,{onClick:function(e){var r,i=new FormData;i.append("text",x),i.append("user_id",null==n?void 0:n.getId()),i.append("task_id",null==t?void 0:t.id),s.map((function(e){return i.append("link[]",e)})),null==m||m.map((function(e){return i.append("file[]",e)})),i.append("_token",document.querySelector("meta[name='csrf-token']").getAttribute("content")),r=!0,v().size(s)&&""!==s[0]||(d("You must provide at least one link to your work"),r=!1),""===x&&(N("Please describe what you've done !"),r=!1),r&&_(i).unwrap().then((function(e){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"Task submitted successfully"}),E()})).catch((function(e){return console.log(e)}))},isLoading:k,title:"Submit"})]})]})})]})})})]})};function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const vr=function(e){var t=e.close,n=e.task,i=e.auth,s=fr((0,r.useState)(""),2),a=s[0],o=s[1],c=fr((0,r.useState)(""),2),d=c[0],u=c[1],m=fr((0,r.useState)(""),2),h=m[0],f=m[1],p=fr((0,r.useState)(""),2),v=p[0],x=p[1],g=fr((0,r.useState)(!1),2),y=g[0],j=g[1],N=((0,L.I0)(),{getLeadDeveloperAcknowladgementOptions:function(){return[{id:"revision1",revision:"The concerned developer’s delivered work doesn’t match my shared requirement",isDeniable:!0},{id:"revision2",revision:"My instruction was incomplete/incorrect and I have to make some changes in the instruction now to make it right.",isDeniable:!1},{id:"revision3",revision:"The instruction was followed but the developer missed out on some default/basic things or best practices which are not essential to mention in instruction.",isDeniable:!0},{id:"revision4",revision:"The work done is aligned with my instruction but after seeing it, I want to give some minor changes.",isDeniable:!1}]},getProjectManagerAcknowladgementOptions:function(){return[{id:"revision1",revision:"My instruction was incomplete/incorrect and I have to make some changes in the instruction now to make it right",isDeniable:!1},{id:"revision2",revision:"The work done is aligned with my instruction, but after seeing it, I want to give some minor changes",isDeniable:!1},{id:"revision3",revision:"The team lead/project coordinator’s delivered work doesn’t match my shared requirement",isDeniable:!0},{id:"revision4",revision:"The instruction was followed, but the lead developer missed out some default/basic things or best practices which are not essential to write in instruction",isDeniable:!1}]}}),w=N.getLeadDeveloperAcknowladgementOptions,_=N.getProjectManagerAcknowladgementOptions,k=4===i.getRoleId()?_():w(),A=fr((0,P.B3)(),2),S=A[0],C=A[1].isLoading;return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"sp1_single_task--modal-panel",style:{maxWidth:"550px"},children:[(0,l.jsxs)("div",{className:"border-bottom pb-2 px-3 mb-3 d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"font-weight-bold f-14",children:["Revision - Task: ",null==n?void 0:n.id,"#",(null==n?void 0:n.title)||(null==n?void 0:n.heading)]}),(0,l.jsx)(b.Z,{onClick:t,className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("form",{className:"px-3",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Select Reason for Revision",(0,l.jsx)("sup",{className:"f-16",children:"*"})," :"]}),(0,l.jsx)("div",{className:"px-3",children:k.map((function(e){return(0,l.jsxs)("div",{className:"form-check d-flex align-items-start mb-2",children:[(0,l.jsx)("input",{className:"form-check-input mr-2",type:"radio",name:"exampleRadios",id:e.id,required:!0,onChange:function(t){return function(e,t){o(e.target.value),j(t)}(t,e.isDeniable)},value:e.revision,style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:e.id,style:{marginBottom:"3px"},children:e.revision})]},e.id)}))}),d&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:d})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Explain or Comment",(0,l.jsx)("sup",{className:"f-16",children:"*"})," :"]}),(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();f(n)}})}),v&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:v})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,l.jsx)(b.Z,{onClick:t,variant:"tertiary",className:"ml-auto mr-2",children:"Close"}),(0,l.jsx)(Xe.Z,{title:"Submit",onClick:function(e){e.preventDefault();var r,s={task_id:null==n?void 0:n.id,user_id:null==i?void 0:i.id,revision_acknowledgement:a,comment:h,is_deniable:y};r=0,""===h&&(r++,x("You have to explain the revision in details, so that lead developer/developer can understand where they need to work.")),""===a&&(r++,u("You have to select a reason from above options")),0===r?S(s).unwrap().then((function(e){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"Task submitted for Revision successfully"}),t()})).catch((function(e){return console.log(e)})):console.log("Your forgot to fillup some requried fields")},isLoading:C})]})})]})]})})};function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const yr=function(e){var t=e.task,n=e.auth,i=xr((0,r.useState)(!1),2),s=i[0],a=i[1],o=new ce.od(t);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(){return a(!0)},className:"d-flex align-items-center sp1-st-revision-btn sp1-st-revision-btn",children:[(0,l.jsx)("i",{className:"fa-solid fa-plus-minus"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Need Revision"})]}),(0,l.jsx)(h.Z,{isOpen:s,className:"sp1_single_task--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:(0,l.jsx)(vr,{auth:n,task:o,close:function(){return a(!1)}})})})]})};function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nr=function(e){var t=e.isLoading,n=e.onClick;if(!t)return(0,l.jsx)(b.Z,{onClick:n,children:"Accept & Continue"});r.Fragment,b.Z},wr=function(e){e.task,e.revision;var t,n,i=e.onSubmit,s=e.close,a=(e.onNext,e.isSubmitting),o=void 0!==a&&a,c=jr((0,r.useState)(""),2),d=c[0],u=c[1],m=jr((0,r.useState)(""),2),h=m[0],f=m[1],p=function(e){e.preventDefault(),""!==d?i({comment:d}):f("You have to Explain Why & How Did This Happen!")},v=null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user;return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)("form",{action:"",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Please Explain Why & How Did This Happen?"," ",(0,l.jsx)("sup",{className:"f-16 text-red",children:"*"})]}),(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();u(n)}})}),h&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:h}),(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,l.jsx)(b.Z,{onClick:s,variant:"tertiary",className:"ml-auto mr-2",children:"Back"}),o?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}})," ","Processing..."]})}):(0,l.jsx)(r.Fragment,{children:_.includes([4,6],null==v?void 0:v.role_id)?(0,l.jsx)(b.Z,{onClick:p,children:"Next"}):(0,l.jsx)(Xe.Z,{title:"Submit",isLoading:o,onClick:p})})]})]})})})};const _r=function(e){var t,n,i,s=e.revision,a=e.isLoading,o=e.onAccept,c=e.onDeny,d=e.onContinue,u=e.isContinue,m=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),h=6===(null==m?void 0:m.getRoleId())?null==s?void 0:s.pm_comment:null==s?void 0:s.lead_comment;return a?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{children:[(0,l.jsx)(Q.V,{width:"450px",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100px",className:"mb-3"})]})}),(0,l.jsx)("div",{className:"st_revision_comment mb-4",children:a&&(0,l.jsxs)("div",{children:[(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"30%",className:"mb-2"})]})})]}):h||a?(0,l.jsxs)(r.Fragment,{children:[(null==s?void 0:s.revision_acknowledgement)&&(0,l.jsx)("div",{children:a?(0,l.jsxs)("div",{children:[(0,l.jsx)(Q.V,{width:"450px",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100px",className:"mb-3"})]}):(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-weight-bold text-danger f-16",children:"Reason: "}),null!==(i=null==s?void 0:s.revision_acknowledgement)&&void 0!==i?i:null==s?void 0:s.revision_reason]})}),(0,l.jsxs)("div",{className:"st_revision_comment",children:[!a&&(0,l.jsx)("div",{className:"sp1_ck_content",dangerouslySetInnerHTML:{__html:h}}),a&&(0,l.jsxs)("div",{children:[(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"100%",className:"mb-2"}),(0,l.jsx)(Q.V,{width:"30%",className:"mb-2"})]})]}),(0,l.jsx)("div",{className:"mt-4 mb-2 d-flex align-items-center",children:!a&&(null!=s&&s.is_deniable?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(b.Z,{onClick:c,variant:"tertiary",className:"ml-auto mr-2",children:"Deny & Continue"}),(0,l.jsx)(Nr,{onClick:o,isLoading:!1})]}):(0,l.jsx)(r.Fragment,{children:(0,l.jsx)("div",{className:"ml-auto",children:(0,l.jsx)(Xe.Z,{onClick:d,variant:"primary",isLoading:u,title:"Continue"})})}))})]}):null};var kr=n(21517);function Ar(e){return function(e){if(Array.isArray(e))return Or(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||Cr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){if(e){if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ir=[{id:"revision1",revision:"I overlooked a few things while checking",isDeniable:!0},{id:"revision2",revision:"I couldn't understand a few things in the instruction",isDeniable:!1}];const Tr=function(e){var t,n=e.task,i=(e.onBack,e.onSubmit),s=e.revision,a=e.isSubmitting,o=void 0!==a&&a,c=Sr((0,r.useState)(""),2),d=c[0],u=c[1],m=Sr((0,r.useState)(""),2),h=m[0],f=m[1],p=Sr((0,r.useState)([]),2),x=p[0],g=p[1],y=Sr((0,r.useState)(!1),2),j=y[0],b=y[1],N=Sr((0,r.useState)([]),2),w=N[0],_=N[1],k=Sr((0,r.useState)(""),2),A=(k[0],k[1]),S=Sr((0,r.useState)(!1),2),C=S[0],O=S[1];return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("form",{action:"",children:[(null==s?void 0:s.isDeniable)&&(null==s?void 0:s.isAccept)&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Revision Acknowledgement",(0,l.jsx)("sup",{className:"f-16",children:"*"})," :"]}),(0,l.jsx)("div",{className:"px-3",children:v().map(Ir,(function(e){return(0,l.jsxs)("div",{className:"form-check d-flex align-items-start mb-2",children:[(0,l.jsx)("input",{className:"form-check-input mr-2",type:"radio",name:"exampleRadios",id:e.id,required:!0,onChange:function(t){return function(e,t){u(e.target.value),O(t)}(t,e.isDeniable)},value:e.revision,style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:e.id,style:{marginBottom:"3px"},children:e.revision})]},e.id)}))}),h&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:h})]}),(null==n||null===(t=n.taskSubTask)||void 0===t?void 0:t.length)>0&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Select SubTask",(0,l.jsx)("sup",{className:"font-weight-bold f-16",children:"*"})," :"]}),(0,l.jsx)(Dr,{task:n,subTasks:w,setSubtasks:_})]}),(null==w?void 0:w.length)>0&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"",className:"font-weight-bold",children:"Comment:"}),w.map((function(e,t){return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:[t+1,". Task: ",null==e?void 0:e.title]})," ",(0,l.jsx)("br",{}),(0,l.jsxs)("label",{className:"font-weight-bold",children:["Write Your Revision",(0,l.jsx)("sup",{className:"font-weight-bold f-16",children:"*"}),": "]}),(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{onChange:function(t,n){return function(e,t,n){var r=t.getData(),i=Ar(x),s=null==i?void 0:i.findIndex((function(e){return e.subtask_id===n}));-1===s?i.push({id:n,subtask_id:n,comment:r}):i[s]={id:n,subtask_id:n,comment:r},g(Ar(i))}(0,n,null==e?void 0:e.subtask_id)}})}),j&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:"You have to explain the revision in details, so that Developer can understand where they need to work."})]})},e.subtask_id)}))]}),(0,l.jsx)("div",{className:"mt-3 mb-3 d-flex align-items-center",children:(0,l.jsx)(Er,{onClick:function(e){e.preventDefault();var t,r={task_id:null==n?void 0:n.id,reason:d,comments:x,is_deniable:C};t=0,""===d&&null!=s&&s.isDeniable&&null!=s&&s.isAccept&&(t++,f("You have to select a reason from below options")),v().size(null==n?void 0:n.subtask)>0&&(0===w.length&&(t++,A("You need to selecd at least one sub task to continue.")),0!==x.length&&x.length===w.length||(t++,b(!0)),null==x||x.map((function(e){""===(null==e?void 0:e.comment)&&(t++,b(!0))}))),0===t&&i(r)},isLoading:o})})]})})};var Er=function(e){var t=e.onClick;return e.isLoading?(0,l.jsxs)(b.Z,{className:"cursor-processing ml-auto",children:[(0,l.jsx)("div",{className:"spinner-border text-white mr-2",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]}):(0,l.jsx)(b.Z,{className:"ml-auto",onClick:t,children:"Accept & Continue"})},Dr=function(e){var t,n,i=e.task,s=e.subTasks,a=e.setSubtasks;return(0,l.jsx)("div",{className:"position-relative",children:(0,l.jsxs)(kr.R,{value:s,onChange:a,multiple:!0,children:[(0,l.jsxs)(kr.R.Button,{className:"position-relative w-100 bg-white py-2 pl-2 pr-1 border d-flex align-items-center justify-content-between",children:[(0,l.jsx)("span",{className:"w-100 mr-auto text-left d-flex flex-wrap align-items-center",style:{gap:"6px"},children:(null==s?void 0:s.length)>0?s.map((function(e){return(0,l.jsxs)("span",{className:"badge badge-light",style:{fontSize:"13px"},children:[" ",null==e?void 0:e.title," "]},e.subtask_id)})):"Select Subtasks"}),(0,l.jsx)(Je.YZt,{})]}),(0,l.jsx)(kr.R.Options,{className:"position-absolute bg-white p-2 shadow w-100",style:{zIndex:10,maxHeight:"350px",overflowY:"auto"},children:(null==i||null===(t=i.taskSubTask)||void 0===t?void 0:t.length)>0?null==i||null===(n=i.taskSubTask)||void 0===n?void 0:n.map((function(e){return(0,l.jsx)(kr.R.Option,{value:e,tabIndex:-1,className:function(e){return e.active?"task-selection-list-option active":"task-selection-list-option"},children:function(t){var n=t.selected;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("div",{children:e.title}),n&&(0,l.jsx)("div",{children:(0,l.jsx)("i",{className:"fa-solid fa-check"})})]})}},e.subtask_id)})):(0,l.jsx)("div",{children:"No Data Found"})})]})})};function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lr=function(e){switch(e){case"lead_dev":return[{id:"deny1",title:"The project manager added new things in the instruction which was not part of the original instruction"},{id:"deny2",title:"The way the project manager is interpreting his original instruction now was not possible to understand from what his writing"}];case"dev":return[{id:"deny1",title:"The lead developer added new things in the instruction which was not part of the original instruction"},{id:"deny2",title:"The way the lead developer is interpreting his original instruction now was not possible to understand from what his writing"}]}};const Pr=function(e){var t,n,i=e.onSubmit,s=e.isSubmitting,a=e.onBack,o=(e.task,new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user)),c=Fr((0,r.useState)(""),2),d=c[0],u=c[1],m=Fr((0,r.useState)(""),2),h=m[0],f=(m[1],Fr((0,r.useState)(""),2)),p=f[0],v=f[1],x=Fr((0,r.useState)(""),2),g=x[0],y=(x[1],function(e){u(e.target.value)}),j=function(e){e.preventDefault(),""!==p?i({comment:p,denyReason:d}):setErr("You have to Explain Why Did You Deny!")},N=6===(null==o?void 0:o.getRoleId())?Lr("lead_dev"):Lr("dev");return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("form",{action:"",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Select reason for deny",(0,l.jsx)("sup",{className:"f-16",children:"*"})," :"]}),(0,l.jsx)("div",{className:"px-3",children:N.map((function(e){return(0,l.jsxs)("div",{className:"form-check d-flex align-items-start mb-2",children:[(0,l.jsx)("input",{className:"form-check-input mr-2",type:"radio",name:"exampleRadios",id:e.id,required:!0,onChange:y,value:e.title,style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:e.id,style:{marginBottom:"3px"},children:e.title})]},e.id)}))}),h&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:h})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Please Explain Why Did You Deny? ",(0,l.jsx)("sup",{className:"f-16 text-red",children:"*"})]}),(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();v(n)}})}),g&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:g})]}),(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,l.jsx)(b.Z,{onClick:a,variant:"tertiary",className:"ml-auto mr-2",children:"Back"}),s?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(b.Z,{className:"cursor-processing",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}})," ","Processing..."]})}):(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(r.Fragment,{children:_.includes([4,6],null==o?void 0:o.getRoleId())?(0,l.jsx)(b.Z,{onClick:j,children:"Next"}):(0,l.jsx)(Xe.Z,{title:"Submit",isLoading:s,onClick:j})})})]})]})})};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const zr=function(e){var t,n,i=e.task,s=e.close,a=Yr((0,r.useState)("REVISION"),2),o=a[0],c=a[1],d=Yr((0,r.useState)(""),2),u=d[0],m=d[1],h=Yr((0,r.useState)(""),2),f=h[0],p=h[1],x=Yr((0,r.useState)(""),2),g=x[0],y=x[1],j=((0,L.I0)(),(0,P.w$)(null==i?void 0:i.id)),N=j.data,w=j.isFetching,_=null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user,k=Yr((0,P.Et)(),2),A=k[0],S=k[1].isLoading,C=function(e,t){var n,r,l,a={comment:null!==(n=null==f?void 0:f.comment)&&void 0!==n?n:"",task_id:null==e?void 0:e.task_id,project_id:null==i?void 0:i.projectId,user_id:null==_?void 0:_.id,subTask:v().map(null==e?void 0:e.comments,(function(t){return Zr(Zr({},t),{},{is_deniable:null==e?void 0:e.is_deniable})})),revision_acknowledgement:null!==(r=null==e?void 0:e.reason)&&void 0!==r?r:"",revision_id:null==N?void 0:N.id,mode:null!=e&&e.continue?"continue":u,deny_reason:null!=g?g:"",is_deniable:null!==(l=null==e?void 0:e.is_deniable)&&void 0!==l&&l},o=null!=e&&e.continue||"deny"!==u?"accept-continue":"deny-continue";A({fdata:a,params:o}).unwrap().then((function(e){s()})).catch((function(e){return console.log(e)}))};return console.log({task:i}),(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"sp1_single_task--modal-panel",style:{maxWidth:"550px"},children:[(0,l.jsxs)("div",{className:"border-bottom pb-2 px-3 mb-3 d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"font-weight-bold f-16",children:["Task#",null==i?void 0:i.id,":",6===Number(null==_?void 0:_.role_id)?(0,l.jsx)(r.Fragment,{children:"ASSINEE_TO_DEV"===o?"Revision For Developer":"Revision By Project Manager"}):4===Number(null==_?void 0:_.role_id)?(0,l.jsx)(r.Fragment,{children:"ASSINEE_TO_DEV"===o?"Revision For Lead Developer":"Revision By Project Manager"}):"Revision By Lead Developer Manager"]}),(0,l.jsx)(b.Z,{onClick:s,className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("div",{className:"px-3",children:["REVISION"===o&&(0,l.jsx)(_r,{revision:N,isLoading:w,isContinue:S,onAccept:function(){m("accept"),c("ACCEPT_AND_CONTINUE")},onDeny:function(){m("deny"),c("DENY_AND_CONTINUE")},onContinue:function(){m("continue"),0===v().size(null==N?void 0:N.taskSubTask)?c("DENY_ASSINEE_TO_DEV"):C({continue:!0})}}),"ACCEPT_AND_CONTINUE"===o&&(0,l.jsx)(wr,{task:i,isSubmitting:S,onSubmit:function(e){return function(e,t){p(e),c(t)}(e,"ASSINEE_TO_DEV")},close:function(){return c("REVISION")}}),"ASSINEE_TO_DEV"===o&&(0,l.jsx)(Tr,{task:i,onSubmit:function(e){return C(e)},isSubmitting:S,onBack:function(){return c("ACCEPT_AND_CONTINUE")}}),"DENY_AND_CONTINUE"===o&&(0,l.jsx)(Pr,{task:i,onSubmit:function(e){return function(e,t){p(e),y(null==e?void 0:e.denyReason),c(t)}(e,"DENY_ASSINEE_TO_DEV")},isSubmitting:S,onBack:function(){return c("REVISION")}}),v().size(null==i?void 0:i.taskSubTask)>0&&"DENY_ASSINEE_TO_DEV"===o&&(0,l.jsx)(Tr,{task:i,revision:N,onSubmit:function(e){return C(e)},isSubmitting:S,onBack:function(){return c("DENY_AND_CONTINUE")}})]})]})})};function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const qr=function(e){var t,n,i=e.task,s=e.close,a=Vr((0,r.useState)("REVISION"),2),o=a[0],c=a[1],d=Vr((0,r.useState)(""),2),u=d[0],m=d[1],h=(0,L.I0)(),f=(0,P.w$)(null==i?void 0:i.id),p=f.data,v=f.isFetching,x=Vr((0,P.Fq)(),2),g=x[0],y=x[1].isLoading,j=null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user,N=function(e,t){var n,r,l={comment:null!==(n=null==e?void 0:e.comment)&&void 0!==n?n:"",deny_reason:null!==(r=null==e?void 0:e.denyReason)&&void 0!==r?r:"",task_id:null==i?void 0:i.id,user_id:null==j?void 0:j.id,revision_id:null==p?void 0:p.id,mode:null!=e&&e.continue?"continue":u};g(l).unwrap().then((function(e){_.includes([4,6],Number(null==j?void 0:j.role_id))?c(t):(h((0,Ke.Qr)(null==e?void 0:e.task_status)),s())})).catch((function(e){return console.log(e)}))};return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"sp1_single_task--modal-panel",style:{maxWidth:"550px"},children:[(0,l.jsxs)("div",{className:"border-bottom pb-2 px-3 mb-3 d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"font-weight-bold f-16",children:["Task#",null==i?void 0:i.id,": "," ",6===Number(null==j?void 0:j.role_id)?(0,l.jsx)(r.Fragment,{children:"ASSINEE_TO_DEV"===o?"Revision For Developer":"Revision By Project Manager"}):4===Number(null==j?void 0:j.role_id)?(0,l.jsx)(r.Fragment,{children:"ASSINEE_TO_DEV"===o?"Revision For Lead Developer":"Revision By Project Manager"}):"Revision By Lead Developer"]}),(0,l.jsx)(b.Z,{onClick:s,className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsxs)("div",{className:"px-3",children:["REVISION"===o&&(0,l.jsx)(_r,{revision:p,isLoading:v,isContinue:y,onAccept:function(){m("accept"),c("ACCEPT_AND_CONTINUE")},onDeny:function(){m("deny"),c("DENY_AND_CONTINUE")},onContinue:function(){m("continue"),N({continue:!0},"")}}),"ACCEPT_AND_CONTINUE"===o&&(0,l.jsx)(wr,{task:i,isSubmitting:y,onSubmit:function(e){return N(e,"ASSINEE_TO_DEV")},close:function(){return c("REVISION")}}),"DENY_AND_CONTINUE"===o&&(0,l.jsx)(Pr,{task:i,onSubmit:function(e){return N(e,"DENY_ASSINEE_TO_DEV")},isSubmitting:y,onBack:function(){return c("REVISION")}})]})]})})};function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const $r=function(e){var t=e.task,n=e.auth,i=(e.status,Hr((0,r.useState)(!1),2)),s=i[0],a=i[1],o=t;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(){return a(!0)},className:"d-flex align-items-center sp1-st-revision-btn --view-revision",children:[(0,l.jsx)("i",{className:"fa-solid fa-plus-minus"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Revision"})]}),(0,l.jsx)(h.Z,{isOpen:s,className:"sp1_single_task--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:v().includes([6],null==n?void 0:n.getRoleId())?(0,l.jsx)(zr,{task:o,close:function(){return a(!1)}}):(0,l.jsx)(qr,{task:t,close:function(){return a(!1)}})})})]})};function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr=function(e){var t=e.task,n=e.auth,i=Jr((0,r.useState)(!1),2),s=i[0],a=i[1],o=function(){return a(!1)},c=(0,r.useRef)();(0,f.Z)(c,o);var d=Jr((0,P.Vj)(),2),u=d[0],m=d[1].isLoading;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(r.Fragment,{children:m?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"cursor-processing cnx__btn cnx__btn_sm cnx__btn_primary",children:[(0,l.jsx)("div",{className:"spinner-border text-white",role:"status",style:{width:"18px",height:"18px"}}),"Processing..."]})}):(0,l.jsxs)(b.Z,{variant:"success",onClick:function(){return a(!0)},className:"d-flex align-items-center border-success",children:[(0,l.jsx)("i",{className:"fa-solid fa-handshake-angle"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Submit For Client Approval"})]})}),(0,l.jsx)(h.Z,{isOpen:s,className:"sp1_single_task--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:(0,l.jsxs)("div",{ref:c,className:"sp1_single_task--modal-panel position-absolute p-2 mb-3",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"250px"},children:[!m&&(0,l.jsx)("div",{className:"d-flex align-items-center border-bottom pb-1",children:(0,l.jsx)(b.Z,{variant:"tertiary",onClick:o,className:"ml-auto border-0",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})}),(0,l.jsxs)("div",{className:"d-flex flex-column align-items-center p-2",style:{gap:"10px"},children:[m&&(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(he.Z,{title:"Submitting..."})}),!m&&(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("img",{src:"/img/warning.gif",alt:"",style:{width:"50px",height:"50px"}}),(0,l.jsxs)("div",{className:"d-flex flex-column aling-items-center",children:[(0,l.jsx)("h5",{className:"d-block mb-3",children:"Are You Sure?"}),(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,l.jsx)(b.Z,{onClick:function(){u({task_id:null==t?void 0:t.id,user_id:null==n?void 0:n.getId()}).unwrap().then((function(e){Swal.fire({position:"center",icon:"success",title:"Submitted Task For Client Approval Successfully",showConfirmButton:!1,timer:2500})})).catch((function(e){return console.log(e)})).finally((function(){return o()}))},className:"mr-2 py-0",children:"Yes"}),(0,l.jsx)(b.Z,{variant:"tertiary",onClick:o,className:"py-0",children:"No"})]})]})]})]})]})})})]})};function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ti=function(e){var t=e.task,n=Qr((0,P.E6)(),2),i=n[0],s=n[1].isLoading;return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(Xe.Z,{onClick:function(e){e.preventDefault(),i({task_id:null==t?void 0:t.id}).unwrap()},variant:"success",isLoading:s,className:"d-flex align-items-center border-success",children:[(0,l.jsx)("i",{className:"fa-solid fa-check"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Client Has Accepted This Task"})]})})};function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ii=[{id:"CRx01",title:"Client added some additional requirements which was not part of the actual job scope",isDeniable:!1},{id:"CRx02",title:"I submitted the work without proper checking and overlooked the issues",isDeniable:!0},{id:"CRx03",title:"I couldnt understand clients expectation properly earlier",isDeniable:!1},{id:"CRx04",title:"I didnt understand the job properly as it’s very technical in nature and relied fully on technical team for success",isDeniable:!1},{id:"CRx05",title:"The client didnt change his instruction but his interpretation of the original instruction now is weird and nobody could have interpreted it this way from his instruction",isDeniable:!0,createDispute:!0},{id:"CRx06",title:"The client is asking for some minor changes which he couldn’t specify until he saw the completed work and we can’t charge him for these",isDeniable:!0}];const si=function(e){e.close;var t=e.onBack,n=e.onSubmit,i=e.task,s=e.auth,a=e.isSubmitting,o=ni((0,r.useState)(null),2),c=o[0],d=o[1],u=ni((0,r.useState)(""),2),m=u[0],h=u[1],f=ni((0,r.useState)(""),2),p=f[0],v=f[1],x=ni((0,r.useState)(""),2),g=x[0],y=x[1],j=ni((0,r.useState)(""),2),N=j[0],w=j[1],k=ni((0,r.useState)(null),2),A=k[0],S=k[1],C=ni((0,r.useState)(0),2),O=C[0],I=C[1],T=ni((0,r.useState)(""),2),E=T[0],D=T[1],B=function(e){w((function(){return e?"yes":"no"})),e&&Swal.fire({title:"Are you want to create milestone?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then((function(e){e.isConfirmed&&window.open("/account/projects/".concat(null==i?void 0:i.projectId,"?tab=milestones"),"_blank")}))};return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("form",{className:"px-3",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Select Reason for Revision",(0,l.jsx)("sup",{className:"f-16",children:"*"})," :"]}),(0,l.jsx)("div",{className:"px-3",children:_.map(ii,(function(e){return(0,l.jsxs)("div",{className:"form-check d-flex align-items-start mb-2",children:[(0,l.jsx)("input",{className:"form-check-input mr-2",type:"radio",name:"exampleRadios",id:e.id,required:!0,onChange:function(t){return function(e,t){d(t),I(0),w(""),S(null)}(0,e)},value:e.title,style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:e.id,style:{marginBottom:"3px"},children:e.title})]},e.id)}))}),m&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:m})]}),"CRx01"===(null==c?void 0:c.id)&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"d-block font-weight-bold",children:["Is the client paying additionally for these changes? ",(0,l.jsx)("sup",{children:"*"})]}),(0,l.jsxs)("div",{className:"d-block",children:[(0,l.jsxs)("div",{className:"form-check form-check-inline",children:[(0,l.jsx)("input",{className:"form-check-input",name:"milestone",type:"radio",id:"createMilestoneYes",value:"1",onChange:function(e){return B(!0)},style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{htmlFor:"createMilestoneYes",className:"form-check-label",children:"Yes"})]}),(0,l.jsxs)("div",{className:"form-check form-check-inline",children:[(0,l.jsx)("input",{className:"form-check-input",name:"milestone",type:"radio",id:"createMilestoneNo",value:"0",onChange:function(e){return B(!1)},style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{htmlFor:"createMilestoneNo",className:"form-check-label",children:"No"})]})]})]}),"yes"===N&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"d-block font-weight-bold",children:["Amount? ",(0,l.jsx)("sup",{children:"*"})]}),(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsx)("div",{className:"input-group-prepend",children:(0,l.jsx)("div",{className:"input-group-text",children:"$"})}),(0,l.jsx)("input",{type:"number",onChange:function(e){return I(e.target.value)},className:"form-control",id:"inlineFormInputGroup",placeholder:"300"})]})]}),"no"===N&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"d-block font-weight-bold",children:["Is the client paying additionally for these changes? ",(0,l.jsx)("sup",{children:"*"})]}),(0,l.jsxs)("div",{className:"d-block",children:[(0,l.jsxs)("div",{className:"form-check mb-3",children:[(0,l.jsx)("input",{name:"additionalInformation",className:"form-check-input",type:"radio",id:"additionalInformation1",onChange:function(e){return S({info:e.target.value,disputeCreate:!1})},value:"Client changed his/her mind and he/she don't want to pay additional payment. We have to continue the task for client satisfaction",style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{htmlFor:"additionalInformation1",className:"form-check-label",children:"Client changed his/her mind and he/she don't want to pay additional payment. We have to continue the task for client satisfaction"})]}),(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)("input",{className:"form-check-input",name:"additionalInformation",type:"radio",id:"additionalInformation2",value:"The client is interpreting his original instruction in a very unusual way!",onChange:function(e){return S({info:e.target.value,disputeCreate:!0})},style:{width:"16px",height:"16px",marginTop:"3px"}}),(0,l.jsx)("label",{htmlFor:"additionalInformation2",className:"form-check-label",children:"The client is interpreting his original instruction in a very unusual way!"})]})]})]}),E&&(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:E})}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"",className:"font-weight-bold",children:["Explain or Comment",(0,l.jsx)("sup",{className:"f-16",children:"*"})," :"]}),(0,l.jsx)("div",{className:"ck-editor-holder",children:(0,l.jsx)(F.Z,{onChange:function(e,t){var n=t.getData();v(n)}})}),g&&(0,l.jsx)("small",{id:"emailHelp",className:"form-text text-danger",children:g})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,l.jsx)(b.Z,{onClick:t,variant:"tertiary",className:"ml-auto mr-2",children:"Back"}),(0,l.jsx)(Xe.Z,{title:"Submit",onClick:function(e){var t;e.preventDefault(),console.log(A);var r,l={acknowledgement_id:null==c?void 0:c.id,task_id:null==i?void 0:i.id,user_id:null==s?void 0:s.id,is_deniable:null==c?void 0:c.isDeniable,revision_acknowledgement:null==c?void 0:c.title,comment:p,additional_amount:Number(O),additional_status:N,additional_comment:null!==(t=null==A?void 0:A.info)&&void 0!==t?t:"",dispute_create:(null==c?void 0:c.createDispute)||(null==A?void 0:A.disputeCreate)||!1};r=0,""===p&&(r++,y("You have to explain the revision in details, so that lead developer can understand where they need to work.")),c||(r++,h("You have to select a reason from above options")),console.log(N),c&&"CRx01"===(null==c?void 0:c.id)&&("yes"===N&&0===O&&(r++,D("You have to provide amount")),"no"!==N||A||(r++,D("You have to select an option"))),0===r?n(l):console.log("Your forgot to fillup some requried fields")},isLoading:a})]})})]})})};function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return di(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ui=function(e){var t=e.task,n=e.auth,i=ci((0,r.useState)(!1),2),s=i[0],a=i[1],o=ci((0,r.useState)("ASSINEE_TO_DEV"),2),c=(o[0],o[1]),d=ci((0,r.useState)(""),2),u=(d[0],d[1],ci((0,r.useState)(""),2)),m=(u[0],u[1],ci((0,P.tP)(),2)),f=m[0],p=m[1].isLoading;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(){return a(!0)},className:"d-flex align-items-center sp1-st-revision-btn sp1-st-revision-btn",children:[(0,l.jsx)("i",{className:"fa-solid fa-plus-minus"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Client Has Revision"})]}),(0,l.jsx)(h.Z,{isOpen:s,className:"sp1_single_task--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:(0,l.jsxs)("div",{className:"sp1_single_task--modal-panel w-100 pb-3",style:{maxWidth:"550px"},children:[(0,l.jsxs)("div",{className:"border-bottom pb-2 px-3 mb-3 d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"font-weight-bold f-14",children:["Task#",null==t?void 0:t.id," - Client Revision"]}),(0,l.jsx)(b.Z,{onClick:function(){a(!1)},className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)(si,{task:t,auth:n,isSubmitting:p,onSubmit:function(e){var n=ai(ai({},e),{},{project_id:null==t?void 0:t.projectId});f(n).unwrap().then((function(e){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"Task submitted for Revision successfully"})})).catch((function(e){return console.log(e)}))},close:function(){return a(!1)},onBack:function(){return c("CLIENT_REVISION")}})]})})})]})};const mi=function(e){var t=e.task,n=e.status,i=e.auth;return(0,l.jsxs)(r.Fragment,{children:[qt({task:t,status:n,auth:i})&&(0,l.jsx)(Kr,{task:t,auth:i}),Ht({task:t,status:n,auth:i})&&(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(ti,{task:t,auth:i}),(0,l.jsx)(ui,{task:t,auth:i})]})]})};function hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pi=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,69927))}));const vi=function(e){var t=e.task,n=hi((0,r.useState)(!1),2),i=n[0],s=n[1],a=new ce.od(t),o=function(){return s(!1)};return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(b.Z,{variant:"tertiary",onClick:function(){return s(!0)},className:"ml-auto d-flex align-items-center sp1-st-revision-btn --view-revision sp1_report_btn",children:[(0,l.jsx)("i",{className:"fa-solid fa-flag"}),(0,l.jsx)("span",{className:"d-inline ml-1",children:"Report"})]}),(0,l.jsx)(h.Z,{isOpen:i,className:"sp1_single_task--modal",children:(0,l.jsx)("div",{className:"sp1_single_task--modal-panerl-wrapper",children:(0,l.jsxs)("div",{className:"sp1_single_task--modal-panel task-report-form--modal-panel",children:[(0,l.jsxs)("div",{className:"border-bottom pb-2 px-3 mb-3 d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"font-weight-bold f-14",children:["Task#",null==t?void 0:t.id," : Report"]}),(0,l.jsx)(b.Z,{onClick:o,className:"",children:(0,l.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"py-3 d-flex align-items-center justify-content-center",children:(0,l.jsx)(he.Z,{})}),children:(0,l.jsx)(pi,{task:a,close:o})})]})})})]})};function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const yi=function(e){var t,n,i=e.task,s=e.status,a=new C.n(null===(t=window)||void 0===t||null===(n=t.Laravel)||void 0===n?void 0:n.user),o=xi(r.useState(!1),2),c=o[0],d=o[1],u=xi((0,P.Fm)(),2),m=u[0],h=u[1].isFetching;return(0,l.jsxs)("div",{className:"d-flex flex-wrap border-bottom pb-3 sp1_task_btn_group",style:{gap:"10px"},children:[Yt({task:i,status:s,loggedUser:a})?(0,l.jsx)(or,{task:i,timerStart:c,setTimerStart:d,auth:a}):null,!c&&Ut({task:i,status:s,loggedUser:a})?(0,l.jsx)(hr,{task:i,auth:a}):null,zt({task:i,status:s,loggedUser:a})?(0,l.jsx)(at,{task:i,status:s,auth:a}):null,Vt({task:i,status:s,loggedUser:a})?(0,l.jsx)(yr,{task:i,auth:a}):null,Wt({task:i,status:s,loggedUser:a})&&(0,l.jsx)($r,{task:i,status:s,auth:a}),(0,l.jsx)(mi,{task:i,status:s,auth:a}),v().includes([5,8,10],null==a?void 0:a.getRoleId())&&(0,l.jsx)(vi,{task:i}),Gt({task:i,status:s,auth:a})&&(0,l.jsxs)("a",{href:"#",onClick:function(e){e.preventDefault(),m(null==i?void 0:i.id).unwrap().then((function(e){200===(null==e?void 0:e.status)?window.location="/account/tasks/".concat(null==i?void 0:i.id,"/edit"):Swal.fire({icon:"error",title:"Oops...",text:"You cannot edit the task because timer is already running"})}))},className:"cnx__btn cnx__btn_sm cnx__btn_primary sp1_task-edit-button",children:[h?(0,l.jsx)("div",{className:"spinner-border text-dark ml-2",role:"status",style:{width:"16px",height:"16px",border:"0.14em solid rgb(255, 255, 255)",borderRightColor:"transparent"}}):(0,l.jsx)("i",{className:"fa-regular fa-pen-to-square"}),(0,l.jsx)("span",{className:"ml-1 mr-2",children:"Edit"})]})]})};var ji=n(67321),bi=n(86366);function Ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _i=function(e){var t=e.color,n=e.desc,i=(r.useRef(null),Ni((0,bi.Z)(),2)),s=i[0],a=i[1],o=Ni((0,r.useState)(!1),2),c=o[0],d=o[1];return(0,l.jsxs)("div",{className:"position-relative px-2",children:[(0,l.jsx)("div",{onClick:function(){return a(t),d(!0),void setTimeout((function(){d(!1)}),1e3)},className:"py-1 px-3 d-inline-block mr-2 text-white rounded",style:{background:t},children:c?s.value?(0,l.jsxs)("span",{children:[" Copied ",s.value]}):null:t}),(0,l.jsx)("div",{className:"p-2 f-12",children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})})]})};const ki=function(e){var t=e.guideline;null==t||t.color;return console.log({guideline:t}),(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"px-3 py-3",style:{background:"#F7F8FA"},children:[(null==t?void 0:t.theme_details)&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"mb-2 f-16",style:{color:"#878E97"},children:(0,l.jsx)("strong",{children:"Theme Details: "})}),(0,l.jsxs)("ul",{className:"pl-2 ml-0",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Theme Name: "})," ",null==t?void 0:t.theme_name]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Theme URL: "})," ",(0,l.jsx)("a",{href:null==t?void 0:t.theme_url,className:"hover-underline",children:null==t?void 0:t.theme_url})]})]})]}),(null==t?void 0:t.design_details)&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"mb-2 f-16",style:{color:"#878E97"},children:(0,l.jsx)("strong",{children:"Design Details: "})}),(0,l.jsxs)("ul",{className:"pl-2 ml-0",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Desgin: "})," ",null==t?void 0:t.design]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Reference URL: "})," ",function(){if(null!=t&&t.design){var e,n,r,i;if("XD/Figma"===(null==t?void 0:t.design))return(0,l.jsxs)("a",{href:null!==(e=null==t?void 0:t.xd_url)&&void 0!==e?e:"#",children:[" ",null!==(n=null==t?void 0:t.xd_url)&&void 0!==n?n:""," "]});if("Photoshop"===(null==t?void 0:t.design))return(0,l.jsxs)("a",{href:null!==(r=null==t?void 0:t.drive_url)&&void 0!==r?r:"#",children:[" ",null!==(i=null==t?void 0:t.drive_url)&&void 0!==i?i:""," "]});if("TheReferenceSiteThatHastoBeClone"===v().replace(null==t?void 0:t.design,/\s/g,"")){var s=JSON.parse(null==t?void 0:t.reference_link);return(0,l.jsx)("ol",{style:{listStyle:"numaric"},children:v().size(s)&&v().map(s,(function(e,t){return(0,l.jsxs)("li",{style:{listStyle:"numaric"},children:[" ",(0,l.jsxs)("a",{href:null!=e?e:"#",children:[" ",null!=e?e:""," "]})," "]},t+e)}))})}}}()]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("div",{className:"font-weight-bold",children:"Instruction:"}),(0,l.jsx)("div",{style:{fontSize:"12px !important"},dangerouslySetInnerHTML:{__html:null==t?void 0:t.instruction}})]})]})]}),(null==t?void 0:t.color_schema)&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"mb-2 f-16",style:{color:"#878E97"},children:(0,l.jsx)("strong",{children:"Color Schema: "})}),(0,l.jsxs)("ul",{className:"pl-2 ml-0",children:[(0,l.jsxs)("li",{className:"d-flex flex-column",children:[(0,l.jsx)("span",{className:"font-weight-bold mr-2 mb-2",children:"Primary Color: "}),(0,l.jsx)(_i,{color:null==t?void 0:t.primary_color,desc:null==t?void 0:t.primary_color_description})]}),(0,l.jsxs)("li",{className:"d-flex flex-column",children:[(0,l.jsx)("span",{className:"font-weight-bold mr-2 mb-2",children:"Secondary Color: "}),v().map(v().toArray(null==t?void 0:t.color),(function(e,n){var r;return(0,l.jsx)(_i,{color:e,desc:null==t||null===(r=t.color_description)||void 0===r?void 0:r[n]},n+e)}))]})]})]}),(null==t?void 0:t.plugin_research)&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"mb-2 f-16",style:{color:"#878E97"},children:(0,l.jsx)("strong",{children:"Plugin Research: "})}),(0,l.jsxs)("ul",{className:"pl-2 ml-0",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Plugin Name: "})," ",null==t?void 0:t.theme_name]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Plugin URL: "})," ",(0,l.jsx)("a",{href:null==t?void 0:t.plugin_url,className:"hover-underline",children:null==t?void 0:t.plugin_url})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Google Drive Link: "})," ",(0,l.jsx)("a",{href:null==t?void 0:t.google_drive_link,className:"hover-underline",children:null==t?void 0:t.google_drive_link})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("div",{className:"font-weight-bold mb-2",children:"Description: "}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:null==t?void 0:t.instruction_plugin}})})]})]})]})]})})};function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oi=function(){var e,t,n,i,s,a,o,c,d,u,h,f,p,x,g,j,b,N,w,_,A,S=(0,L.v9)((function(e){return e.subTask})).task,O=(0,L.I0)(),T=(0,jt.UO)(),E=(0,P.GG)("/".concat(null==T?void 0:T.taskId,"/json?mode=basic"),{refetchOnMountOrArgChange:!0}),D=E.data,F=E.isFetching,B=(0,P.Bz)(null==T?void 0:T.taskId).data;(0,r.useEffect)((function(){if(D){var e,t=Si(Si({},null==D?void 0:D.task),{},{parent_task_title:(null==D||null===(e=D.parent_task_heading)||void 0===e?void 0:e.heading)||null,parent_task_action:null==D?void 0:D.parent_task_action,subtask:null==D?void 0:D.subtasks,working_environment:null==D?void 0:D.working_environment,working_environment_data:null==D?void 0:D.working_environment_data,pm_task_guideline:null==D?void 0:D.task_guideline,task_revisions:null==D?void 0:D.revisions,taskSubTask:null==D?void 0:D.Sub_Tasks});O((0,Ke.rs)(t))}}),[D]);var M=F?"skeleton-loading":"",Z=new C.n(null===(e=window)||void 0===e||null===(t=e.Laravel)||void 0===t?void 0:t.user),R=new ce.od(S);if(F)return(0,l.jsx)(ji.Z,{isLoading:F});var Y=new ce.HP(B);return(0,l.jsxs)("div",{className:"postion-relative",children:[(0,l.jsxs)("div",{className:"f-16 mb-3 ".concat(M),children:[(0,l.jsxs)("span",{children:[" ",(0,l.jsx)("strong",{children:"Task: "})," "]}),(0,l.jsx)("a",{href:"/account/tasks/".concat(null==R?void 0:R.id),children:null==R?void 0:R.getSubtaskTitle()})]}),(0,l.jsxs)("div",{className:"row",children:[F?(0,l.jsx)(de,{}):(0,l.jsx)(r.Fragment,{children:(0,l.jsx)("div",{className:"col-12 col-md-7 col-lg-8 mb-3",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,l.jsx)(yi,{task:R,status:B}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"d-flex flex-column py-3",style:{gap:"10px"},children:[(null==R?void 0:R.isSubtask)&&(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:" Parent Task: "}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:(0,l.jsx)("a",{href:"/account/tasks/".concat(null==R?void 0:R.parentTaskId),className:"text-dark text-hover-underline",children:null==R?void 0:R.parentTaskTitle})})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:"Project : "}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("span",{className:"dot-color bg-danger mr-2"}),(0,l.jsx)("a",{href:"/account/projects/".concat(null==R?void 0:R.projectId),className:"text-dark text-hover-underline",children:null==R?void 0:R.projectName})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Milestone :"," "]}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("span",{className:"dot-color bg-primary mr-2"}),null==R?void 0:R.milestoneTitle]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Assigned To :"," "]}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,l.jsx)("img",{src:null==R||null===(n=R.assigneeTo)||void 0===n?void 0:n.getAvatar(),alt:null==R||null===(i=R.assigneeTo)||void 0===i?void 0:i.getName(),width:"32px",height:"32px",className:"rounded-circle"})}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsxs)("span",{className:"d-block f-14 font-weight-bold",children:[(0,l.jsx)("a",{href:null==R||null===(s=R.assigneeTo)||void 0===s?void 0:s.getUserLink(),className:"text-dark hover-underline",children:null==R||null===(a=R.assigneeTo)||void 0===a?void 0:a.getName()}),Number(null==R||null===(o=R.assigneeTo)||void 0===o?void 0:o.getId())===Number(null==Z?void 0:Z.getId())&&(0,l.jsx)("sup",{className:"rounded-pill bg-dark text-white px-1 ml-1",style:{fontSize:"10px",whiteSpace:"nowrap"},children:"It's You"})]}),(0,l.jsx)("span",{style:{fontSize:"12px"},children:null==R||null===(c=R.assigneeTo)||void 0===c?void 0:c.getDesignationName()})]})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Assigned by:"," "]}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px"},children:(0,l.jsx)("img",{src:null==R||null===(d=R.assigneeBy)||void 0===d?void 0:d.getAvatar(),alt:null==R||null===(u=R.assigneeBy)||void 0===u?void 0:u.getName(),width:"32px",height:"32px",className:"rounded-circle"})}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsxs)("span",{className:"d-block f-14 font-weight-bold",children:[(0,l.jsx)("a",{href:null==R||null===(h=R.assigneeBy)||void 0===h?void 0:h.getUserLink(),className:"text-dark hover-underline",children:null==R||null===(f=R.assigneeBy)||void 0===f?void 0:f.getName()}),Number(null==R||null===(p=R.assigneeBy)||void 0===p?void 0:p.getId())===Number(null==Z?void 0:Z.getId())&&(0,l.jsx)("sup",{className:"rounded-pill bg-dark text-white px-1",style:{fontSize:"10px"},children:"It's You"})]}),(0,l.jsx)("span",{style:{fontSize:"12px"},children:null==R||null===(x=R.assigneeBy)||void 0===x?void 0:x.getDesignationName()})]})]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsx)("div",{className:"sp1_st-list-item-head",children:"Priority : "}),(0,l.jsxs)("div",{className:"sp1_st-list-item-value",children:[(0,l.jsx)("span",{className:"dot-color mr-2",style:{background:"rgba(252, 189, 1, 1)"}}),null==R?void 0:R.priority]})]}),(0,l.jsxs)("div",{className:"sp1_st-list-item",children:[(0,l.jsxs)("div",{className:"sp1_st-list-item-head",children:["Task Category :"," "]}),(0,l.jsx)("div",{className:"sp1_st-list-item-value",children:null==R||null===(g=R.category)||void 0===g?void 0:g.name})]})]})}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsxs)(m,{expendable:!1,title:"General Guidelines",children:[(null==R?void 0:R.hasProjectManagerGuideline)&&(0,l.jsx)(ki,{guideline:null==R?void 0:R.PMTaskGuideline}),!v().isEmpty(null==R?void 0:R.workEnvData)&&(0,l.jsx)("div",{className:"sp1_task_card--sub-card",children:(0,l.jsxs)("div",{className:"px-4 py-3",style:{background:"#F3F5F9"},children:[(0,l.jsx)("h6",{className:"mb-2",children:"Working Environment"}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Working/Staging Site's URL"}),": ",(0,l.jsx)("br",{})," ",(0,l.jsx)("a",{target:"__blank",href:null==R||null===(j=R.workEnvData)||void 0===j?void 0:j.site_url,children:"View on new tab"})]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Frontend Password"}),": ",(0,l.jsx)("br",{})," ",null==R||null===(b=R.workEnvData)||void 0===b?void 0:b.frontend_password]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Working/Staging Site's Login URL"}),": ",(0,l.jsx)("br",{})," ",(0,l.jsx)("a",{target:"__blank",href:null==R||null===(N=R.workEnvData)||void 0===N?void 0:N.login_url,children:"View on new tab"})," "]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Working/Staging Site's Username/Email"}),": ",(0,l.jsx)("br",{})," ",null==R||null===(w=R.workEnvData)||void 0===w?void 0:w.email]})}),(0,l.jsx)("div",{className:"col-12 col-lg-6 col-xl-4 mb-2 word-break",children:(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"Password"}),": ",(0,l.jsx)("br",{})," ",null==R||null===(_=R.workEnvData)||void 0===_?void 0:_.password]})})]})]})}),(0,l.jsx)(y,{text:null==R?void 0:R.guidelines,workEnv:null==R?void 0:R.workEnvData})]}),v().size(null==R?void 0:R.revisions)>0&&(0,l.jsx)(m,{title:null===(A=v().last(null==R?void 0:R.revisions))||void 0===A?void 0:A.revisionStatus,headingClass:"d-flex align-items-center justify-content-between",headingStyle:{background:"rgba(227,62,79,1)",color:"#fff"},children:v().map(null==R?void 0:R.revisions,(function(e,t){return(0,l.jsx)(k,{index:t+1,date:I()(e.createdAt).format("MMM DD, YYYY"),time:I()(e.createdAt).format("hh:mm a"),text:(null==e?void 0:e.comment)||(null==e?void 0:e.devComment)||(null==e?void 0:e.pmComment),revision:e},null==e?void 0:e.id)}))}),(0,l.jsx)(m,{expendable:!1,title:"Task Descriptions",children:(0,l.jsx)(y,{text:null==R?void 0:R.description})})]})]})})}),(0,l.jsx)("div",{className:"col-12 col-md-5 col-lg-4",children:(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsxs)("div",{className:"sp1_task_right_card mb-3",style:{maxHeight:"450px"},children:[(0,l.jsxs)("div",{className:"d-flex align-items-center font-weight-bold border-bottom pl-2 pb-2 mb-2",children:[(0,l.jsx)("span",{style:{display:"block",width:"10px",height:"10px",borderRadius:"100%",background:null==B?void 0:B.label_color,marginRight:"6px",boxShadow:"0 0 10px rgba(0,0,0,.1)"}}),Y.getTaskStatusName(null==Z?void 0:Z.getRoleId(),R.isSubtask)]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",children:"Start Date: "}),(0,l.jsx)("div",{className:"d-flex align-items-center font-weight-bold pl-2 ".concat(M),children:null==R?void 0:R.getStartDate("MMM DD, YYYY")})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",children:"Due Date: "}),(0,l.jsx)("div",{className:"d-flex align-items-center font-weight-bold pl-2 ".concat(M),children:null==R?void 0:R.getDueDate("MMM DD, YYYY")})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",children:"Time Estimate: "}),(0,l.jsx)("div",{className:"d-flex align-items-center font-weight-bold pl-2 ".concat(M),children:null==R?void 0:R.getEstimateTime()})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",children:"Parent Task Hours Logged:"}),(0,l.jsx)("div",{className:"d-flex align-items-center font-weight-bold pl-2 ".concat(M),children:(null==R?void 0:R.parentTaskTimeLog)||"--"})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",children:"Subtask Hours Logged: "}),(0,l.jsx)("div",{className:"d-flex align-items-center font-weight-bold ml-2 pl-2 ".concat(M),children:(null==R?void 0:R.subTaskTimeLog)||"--"})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("div",{className:"",children:"Total Hours Logged: "}),(0,l.jsx)("div",{className:"d-flex align-items-center font-weight-bold pl-2",children:(null==R?void 0:R.totalTimeLog)||"--"})]})]}),R&&(null==R?void 0:R.id)&&(0,l.jsx)(Cn,{task:R}),(0,l.jsx)(Kt,{status:B}),R&&(null==R?void 0:R.id)&&(0,l.jsx)(oe,{task:R,isLoading:F}),(0,l.jsx)(xn,{}),(0,l.jsx)(Zn,{}),R&&(null==R?void 0:R.id)&&(0,l.jsx)(Hn,{}),R&&(null==R?void 0:R.id)&&(0,l.jsx)(er,{task:R})]})})]})]})}},54324:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(67294),i=n(73935),s=n(45697),l=n.n(s),a=n(85893);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.children,n=e.isOpen,s=e.className,l=o(r.useState(!1),2),c=l[0],d=l[1],u=r.useMemo((function(){return Math.random().toString(36).substr(2,9)}),[]),m=document.getElementById(u);if(r.useEffect((function(){d(!0);var e=document.createElement("div");return e.id=u,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),r.useEffect((function(){n?document.body.classList.add("cnx_body-overflow-hidden"):document.body.classList.remove("cnx_body-overflow-hidden")}),[n]),m){var h=n?(0,a.jsx)("div",{className:"cnx_modal ".concat(s),children:t}):null;return c?i.createPortal(h,m):null}};d.propTypes={children:l().node.isRequired,isOpen:l().bool.isRequired,className:l().string};const u=d},22367:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(67294),i=n(81155),s=n(55300),l=n(63048),a=n(73935),o=n(45697),c=n.n(o),d=n(40867),u=n(51526),m=n(90924),h=n(85893),f=["children","className","onClick","disabled"],p=["children","className","placement","offset"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=r.createContext(),w=function(e){var t=e.children,n=j(r.useState(!1),2),i=n[0],s=n[1],l=j(r.useState(null),2),a=l[0],o=l[1],c=j(r.useState(null),2),d=c[0],u=c[1];return(0,h.jsx)(N.Provider,{value:{element:a,setElement:o,reference:d,setReference:u,isOpen:i,setIsOpen:s},children:t})},_=function(){var e=r.useContext(N);if(!e)throw new Error("useDropdown must be used within a DropdownProvider");return e},k=function(e){var t=e.children,n=e.className,r=e.onClick,i=e.disabled,s=void 0!==i&&i,l=y(e,f),a=_().setIsOpen;return(0,h.jsx)("div",x(x({onMouseUp:function(){return s?null:a(!1)},onClick:function(e){return s?null:r?r(e):null},className:"cnx_dropdown__item ".concat(s?"cnx_dropdown__item_disabled}":""," ").concat(n)},l),{},{children:t}))},A=function(e){var t=e.children,n=e.icon,r=void 0===n||n,i=e.className,s=_(),l=s.setIsOpen,a=s.isOpen,o=s.setReference;return(0,h.jsxs)("div",{ref:o,className:"cnx_dropdown__toggle ".concat(i),onClick:function(){return l(!a)},children:[t,r&&(0,h.jsx)("i",{className:"fas fa-caret-".concat(a?"up":"down"," cnx_dropdown__toggle_icon")})]})},S=function(e){var t=e.children,n=e.className,i=e.placement,s=void 0===i?"bottom-start":i,l=e.offset,o=void 0===l?[0,3]:l,c=y(e,p),f=_(),v=f.reference,g=f.setIsOpen,b=f.isOpen,N=j(r.useState(null),2),w=N[0],k=N[1],A=j(r.useState(100),2),S=A[0],C=A[1],O=r.useMemo((function(){return Math.random().toString(36).substr(2,9)}),[]),I=document.getElementById(O),T=(0,d.D)(v,w,{placement:s,modifiers:[{name:"offset",options:{offset:o}},{name:"flip",options:{fallbackPlacements:["bottom","left","right","top"]}}]}),E=T.styles,D=T.attributes;return r.useEffect((function(){v&&C(v.offsetWidth)}),[v]),r.useEffect((function(){var e,t=function t(n){w&&!w.contains(n.target)&&(g(!1),clearTimeout(e),window.removeEventListener("click",t))};return b?e=setTimeout((function(){window.addEventListener("click",t)}),100):window.removeEventListener("click",t),function(){window.removeEventListener("click",t),clearTimeout(e)}}),[b,w]),r.useEffect((function(){var e=document.createElement("div");return e.id=O,document.body.appendChild(e),k(e),function(){document.body.removeChild(e)}}),[]),I?a.createPortal((0,h.jsx)(u.M,{children:b&&(0,h.jsx)(m.E.div,x(x(x({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"cnx_dropdown__menu ".concat(b?"cnx_dropdown__menu_open":""," ").concat(n),ref:k,style:x(x({},E.popper),{},{minWidth:S})},D.popper),c),{},{children:t}))}),I):null},C=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return(0,h.jsx)("div",{className:"cnx_dropdown ".concat(r),children:(0,h.jsx)(w,{children:t})})};C.Item=k,C.Toggle=A,C.Menu=S;const O=C;w.propTypes={children:c().node.isRequired},k.propTypes={children:c().node.isRequired,onClick:c().func,disabled:c().bool,className:c().string},A.propTypes={children:c().node.isRequired,icon:c().bool,className:c().string},S.propTypes={children:c().node.isRequired||c().arrayOf(c().node).isRequired,className:c().string,placement:c().string,offset:c().arrayOf(c().number)},C.propTypes={className:c().string,children:c().node.isRequired||c().arrayOf(c().node).isRequired};var I=n(2108),T=(n(72185),n(7285)),E=n(27484),D=n.n(E);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const L=function(e){var t,n=e.comment,a=F(r.useState(!1),2),o=a[0],c=a[1],d=F(r.useState(!1),2),u=d[0],m=d[1],f=F(r.useState(""),2),p=(f[0],f[1],null!=n&&n.user?new I.n(n.user):null),v=null==n?void 0:n.replies;return(0,h.jsx)("div",{className:"sp1_task_comment_send_box sp1_task_comment_replied pl-2 pb-2",children:(0,h.jsxs)("div",{className:"__send-box flex-column align-items-start",style:{maxWidth:"100%"},children:[(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("div",{className:"mr-2",children:(0,h.jsx)("div",{className:"rounded-circle",children:(0,h.jsx)("img",{src:null==p?void 0:p.getAvatar(),alt:null==p?void 0:p.getName(),width:"32px",height:"32px",className:"rounded-circle"})})}),(0,h.jsxs)("div",{className:"sp1_comment",children:[(0,h.jsxs)("span",{className:"sp1_comment_user--name",children:[null==p?void 0:p.getName()," (",null==p?void 0:p.getDesignationName(),")"]}),(0,h.jsx)("span",{className:"sp1_comment_time",style:{color:"#888"},children:(null==n?void 0:n.last_updated_at)&&(0,h.jsxs)(h.Fragment,{children:[D().unix(null==n?void 0:n.last_updated_at).format("MMM DD, YYYY ")," at  ",D().unix(null==n?void 0:n.last_updated_at).format("hh:mm a")]})})]})]}),(0,h.jsx)("div",{className:"__box __reply_text w-100 my-1 text-dark",children:(0,h.jsx)("div",{className:"sp1_ck_content sp1_message--body",style:{overflow:"hidden"},dangerouslySetInnerHTML:{__html:null==n?void 0:n.comment}})}),(0,h.jsx)("div",{className:"files",children:(0,h.jsx)(T.Z,{children:null==n||null===(t=n.files_data)||void 0===t?void 0:t.map((function(e){return(0,h.jsx)(T.Z.Preview,{fileName:null==e?void 0:e.name,downloadAble:!0,deleteAble:!1,downloadUrl:null==e?void 0:e.url,previewUrl:null==e?void 0:e.url,fileType:null==e?void 0:e.icon,ext:""},null==e?void 0:e.name)}))})}),(0,h.jsxs)("div",{className:"sp1_task_comment_actions",children:[(0,h.jsxs)(O,{children:[(0,h.jsx)(O.Toggle,{icon:!1,children:(0,h.jsx)("i",{className:"fa-regular fa-face-smile"})}),(0,h.jsx)(O.Menu,{children:(0,h.jsx)(l.ZP,{lazyLoadEmojis:!0})})]}),(0,h.jsx)("span",{children:"•"}),(0,h.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),m(!0)},children:"Reply"}),(0,h.jsx)("span",{children:"•"}),(0,h.jsx)("a",{href:"#",children:"Delete"}),(0,h.jsx)("span",{children:"•"}),(0,h.jsx)("a",{href:"#",children:(0,h.jsx)("i",{className:"fa-solid fa-paperclip"})}),(null==v?void 0:v.length)>0&&(0,h.jsxs)("div",{className:"replies_count",onClick:function(){return c(!o)},children:[(0,h.jsxs)("div",{className:"reply_auth_avatar",children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"/user-uploads/avatar/40164f31bc7d575c7dbe99b24b408d75.png",alt:"sender_name",width:"20px",height:"20px",className:"rounded-circle"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"/user-uploads/avatar/40164f31bc7d575c7dbe99b24b408d75.png",alt:"sender_name",width:"20px",height:"20px",className:"rounded-circle ml-2"})}),(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"/user-uploads/avatar/40164f31bc7d575c7dbe99b24b408d75.png",alt:"sender_name",width:"20px",height:"20px",className:"rounded-circle ml-3"})})]}),(0,h.jsx)("div",{className:"ml-2",children:"3 replies"})]})]}),u&&(0,h.jsx)("div",{className:"mt-3 pl-3 w-100",children:(0,h.jsxs)("div",{className:"w-100",children:[(0,h.jsx)("div",{className:"ck-editor-holder",children:(0,h.jsx)(i.Z,{})}),(0,h.jsxs)("div",{className:"mt-3 d-flex align-items-center",children:[(0,h.jsx)(s.Z,{className:"mr-2",children:"Reply"}),(0,h.jsx)(s.Z,{variant:"secondary",onClick:function(){return m(!1)},children:"Close"})]})]})})]})})}},93519:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(94015),i=n.n(r),s=n(23645),l=n.n(s)()(i());l.push([e.id,".upload-file-modal{align-items:center;display:flex;justify-content:center}.upload-file-modal .__panel{background-color:#fff;border-radius:16px;display:-moz-grid;display:grid;grid-template-rows:48px 1fr;height:100%;max-height:80vh;max-width:60vw;min-height:60vh;width:100%}.upload-file-modal .__panel .__navbar{align-items:center;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;padding:10px 16px 10px 24px}.upload-file-modal .__panel .__navbar h5{color:#777;font-weight:600;margin:0}.file_upload_panel__body{display:-moz-grid;display:grid;grid-template-rows:250px 1fr;height:100%;overflow:hidden;padding:10px 24px 24px}.file_upload_panel__body .__upload_new{align-items:center;background:#f6f6f6;border-radius:10px;display:flex;flex-direction:column;height:250px;justify-content:center;position:relative;width:100%}.file_upload_panel__body .__upload_new .fa-cloud-arrow-up{color:#c4c4c4;display:block;font-size:120px}.file-upload-input{height:100%;left:0;opacity:0;position:absolute;top:0;width:100%;z-index:1}.sp1-uploaded-files_list{display:flex;flex-direction:column;gap:20px;height:100%;overflow-y:auto;padding-bottom:24px}.sp1-uploaded-files .__title{color:#777;font-size:16px;font-weight:600}.sp1_uploaded_file{background:#f3f3f3;border-radius:8px;height:100px;width:100px}.sp1-uploaded-files .__files_list{align-items:center;display:flex;flex-wrap:wrap;gap:10px}.sp1_file_upload--input-preview{border:1px solid rgba(0,0,0,.1);border-radius:4px;color:#777;height:100px;padding:6px 10px;position:relative;transition:background .4s ease-in-out;width:100px}.sp1_file_upload--input-preview:hover{background:rgb(0 0 0/5%)}.sp1_file_upload--input-preview\r\n.uploaded-file-ext{font-size:14px}.sp1_file_upload--input-preview\r\n.uploaded-file-ext-sm{bottom:15px!important;padding:0 4px}.sp1_file_upload--input-preview .uploaded-file-name{font-size:14px;margin-top:0}.sp1_file_upload--input-wrapper{align-items:center;background:#f3f3f3;border-radius:8px;color:rgba(77,86,105,.8);cursor:pointer;display:flex;flex-direction:column;height:100px;justify-content:center;position:relative;width:100px}.sp1_file_upload--input-wrapper:hover{color:rgba(14,21,36,.966)}.sp1_file_upload--input-wrapper i.fa-cloud-arrow-up{font-size:2.2rem}.sp1_file_upload--input{height:100%;left:0;opacity:0;position:absolute;top:0;width:100%;z-index:1}.sp1_file_upload--input-preview .__remove--btn{background-color:#ff401f;border-color:#ff401f;color:#fff;cursor:pointer;padding:4px;position:absolute;right:3px;top:3px;z-index:2}.sp1_file_upload--input-preview .__remove--btn i{-moz-user-select:none;-webkit-user-select:none;user-select:none}","",{version:3,sources:["webpack://./resources/js/react/file-upload/file-upload.css"],names:[],mappings:"AACA,mBAEI,kBAAmB,CADnB,YAAa,CAEb,sBACJ,CAEA,4BAMI,qBAAsB,CACtB,kBAAmB,CAEnB,iBAAkB,CAClB,YAAa,CACb,2BAA4B,CAR5B,WAAY,CACZ,eAAgB,CAFhB,cAAe,CAGf,eAAgB,CAJhB,UAWJ,CAGA,sCAEI,kBAAmB,CAGnB,+BAAgC,CAJhC,YAAa,CAEb,6BAA8B,CAC9B,2BAEJ,CAEA,yCAGI,UAAW,CADX,eAAgB,CADhB,QAGJ,CAEA,yBAGI,iBAAkB,CAElB,YAAa,CAEb,4BAA6B,CAD7B,WAAY,CAJZ,eAAgB,CAMhB,sBACJ,CAGA,uCAMI,kBAAmB,CAHnB,kBAAmB,CACnB,kBAAmB,CACnB,YAAa,CAIb,qBAAsB,CAPtB,YAAa,CAKb,sBAAuB,CAGvB,iBAAkB,CATlB,UAUJ,CAEA,0DAEG,aAAc,CACd,aAAc,CAFd,eAGH,CAEA,mBAEI,WAAY,CAGZ,MAAO,CAEP,SAAU,CAJV,iBAAkB,CAClB,KAAM,CAHN,UAAW,CAKX,SAEJ,CAEA,yBACI,YAAa,CAEb,qBAAsB,CACtB,QAAS,CAET,WAAY,CADZ,eAAgB,CAEhB,mBACJ,CAGA,6BAEI,UAAW,CACX,cAAe,CAFf,eAGJ,CAGA,mBAII,kBAAmB,CADnB,iBAAkB,CADlB,YAAa,CADb,WAIJ,CACA,kCAEI,kBAAmB,CADnB,YAAa,CAGb,cAAe,CACf,QACJ,CAGA,gCACI,+BAAmC,CAEnC,iBAAkB,CAClB,UAAW,CAEX,YAAa,CAJb,gBAAiB,CAKjB,iBAAkB,CAClB,qCAAsC,CAHtC,WAIJ,CAGA,sCACI,wBACJ,CAGA;mBAEI,cACJ,CAEA;sBAGI,qBAAuB,CADvB,aAEJ,CAIA,oDACI,cAAe,CACf,YACJ,CAMA,gCASI,kBAAmB,CAJnB,kBAAmB,CADnB,iBAAkB,CAOlB,wBAA6B,CAC7B,cAAe,CANf,YAAa,CAEb,qBAAsB,CALtB,YAAa,CAOb,sBAAuB,CATvB,iBAAkB,CAClB,WAWJ,CAEA,sCACI,yBACJ,CAEA,oDACI,gBACJ,CAEA,wBAEI,WAAY,CAGZ,MAAO,CAEP,SAAU,CAJV,iBAAkB,CAClB,KAAM,CAHN,UAAW,CAKX,SAEJ,CAEA,+CAKI,wBAAyB,CAGzB,oBAAqB,CAFrB,UAAW,CACX,cAAe,CAHf,WAAY,CAHZ,iBAAkB,CAElB,SAAU,CADV,OAAQ,CAOR,SACJ,CAEA,iDACI,qBAAsB,CACtB,wBAAyB,CACzB,gBACJ",sourcesContent:["\r\n.upload-file-modal{ \r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.upload-file-modal .__panel{\r\n    width: 100%;\r\n    max-width: 60vw;\r\n    height: 100%;\r\n    max-height: 80vh;\r\n    min-height: 60vh;\r\n    background-color: #fff;\r\n    border-radius: 16px;\r\n    display: -ms-grid;\r\n    display: -moz-grid;\r\n    display: grid;\r\n    grid-template-rows: 48px 1fr;\r\n}\r\n\r\n\r\n.upload-file-modal .__panel .__navbar{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 10px 16px 10px 24px;\r\n    border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.upload-file-modal .__panel .__navbar h5{\r\n    margin: 0;\r\n    font-weight: 600;\r\n    color: #777;\r\n}\r\n\r\n.file_upload_panel__body{\r\n    padding: 10px 24px;\r\n    overflow: hidden;\r\n    display: -moz-grid;\r\n    display: -ms-grid;\r\n    display: grid;\r\n    height: 100%;\r\n    grid-template-rows: 250px 1fr;\r\n    padding-bottom: 24px;\r\n}\r\n\r\n\r\n.file_upload_panel__body .__upload_new{\r\n    width: 100%;\r\n    height: 250px;\r\n    background: #f6f6f6;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n    position: relative;\r\n}\r\n\r\n.file_upload_panel__body .__upload_new .fa-cloud-arrow-up{\r\n   font-size: 120px;\r\n   color: #c4c4c4;\r\n   display: block;\r\n}\r\n\r\n.file-upload-input{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1;\r\n    opacity: 0;\r\n}\r\n\r\n.sp1-uploaded-files_list{\r\n    display: flex;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    overflow-y: auto; \r\n    height: 100%;\r\n    padding-bottom: 24px;\r\n}\r\n\r\n\r\n.sp1-uploaded-files .__title{\r\n    font-weight: 600;\r\n    color: #777;\r\n    font-size: 16px;\r\n}\r\n\r\n\r\n.sp1_uploaded_file{\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 8px;\r\n    background: #f3f3f3;\r\n}\r\n.sp1-uploaded-files .__files_list{\r\n    display: flex;\r\n    align-items: center;\r\n    -ms-flex-wrap: wrap;\r\n    flex-wrap: wrap;\r\n    gap: 10px;\r\n}\r\n\r\n\r\n.sp1_file_upload--input-preview{\r\n    border: 1px solid rgba(0 0 0 / 10%);\r\n    padding: 6px 10px;\r\n    border-radius: 4px;\r\n    color: #777;\r\n    width: 100px;\r\n    height: 100px;\r\n    position: relative;\r\n    transition: background .4s ease-in-out;\r\n}\r\n\r\n\r\n.sp1_file_upload--input-preview:hover{\r\n    background: rgb(0 0 0 / 5%)\r\n}\r\n\r\n\r\n.sp1_file_upload--input-preview\r\n.uploaded-file-ext{\r\n    font-size: 14px;\r\n}\r\n\r\n.sp1_file_upload--input-preview\r\n.uploaded-file-ext-sm{\r\n    padding: 0px 4px; \r\n    bottom: 15px !important;\r\n}\r\n\r\n\r\n\r\n.sp1_file_upload--input-preview  .uploaded-file-name{\r\n    font-size: 14px; \r\n    margin-top: 0;\r\n}\r\n\r\n\r\n\r\n/* file uploader  */\r\n\r\n.sp1_file_upload--input-wrapper{\r\n    position: relative;\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 8px;\r\n    background: #f3f3f3;\r\n    display: flex;\r\n    -ms-flex-direction: column;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: rgba(77, 86, 105, 0.8);\r\n    cursor: pointer;\r\n}\r\n\r\n.sp1_file_upload--input-wrapper:hover{\r\n    color: rgba(14, 21, 36, 0.966) \r\n}\r\n\r\n.sp1_file_upload--input-wrapper i.fa-cloud-arrow-up{\r\n    font-size: 2.2rem;\r\n}\r\n\r\n.sp1_file_upload--input{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1;\r\n    opacity: 0;\r\n}\r\n\r\n.sp1_file_upload--input-preview .__remove--btn{\r\n    position: absolute;\r\n    top: 3px;\r\n    right: 3px;\r\n    padding: 4px;\r\n    background-color: #ff401f;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    border-color: #ff401f;\r\n    z-index: 2;\r\n}\r\n\r\n.sp1_file_upload--input-preview .__remove--btn i{ \r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n/* end file uploader  */"],sourceRoot:""}]);const a=l}}]);
//# sourceMappingURL=661.js.map