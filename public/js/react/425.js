"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[425],{58425:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var s=r(74094),n=r(27060),a=r(67294),l=r(98430),i=(r(9818),r(69265)),o=r(38738),d=r(71204),c=r(96486),u=r.n(c),p=r(52669),m=r(93122),h=r(85893);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,l,i=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(i.push(s.value),i.length!==t);o=!0);}catch(e){d=!0,n=e}finally{try{if(!o&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}const v=function(e){var t,r=e.row,s=x(a.useState(!1),2),n=s[0],l=s[1],i=x(a.useState(""),2),c=(i[0],i[1],x(a.useState(""),2)),f=(c[0],c[1]),v=!1,_=u().includes([1],null===(t=window)||void 0===t||null===(t=t.Laravel)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.role_id),g=function(e){null==r||r.id},b="approved"===(null==r?void 0:r.status)?"success":"tertiary",j="approved"===(null==r?void 0:r.status)?"Resoved":"pending"===(null==r?void 0:r.status)?"Resove":u().startCase(null==r?void 0:r.status),y="pending"===(null==r?void 0:r.status)?"badge-primary":"approved"===(null==r?void 0:r.status)?"badge-success":"badge-warning";return(0,h.jsxs)("div",{children:[!_&&(0,h.jsx)("span",{className:"badge ".concat(y),children:null==r?void 0:r.status}),_&&(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(o.Z,{onClick:function(){return"pending"===(null==r?void 0:r.status)&&void l(!0)},variant:b,className:"denied"===(null==r?void 0:r.status)?"sp1_tasks_tbl_report_btn":"",children:j}),(0,h.jsx)(a.Fragment,{children:(0,h.jsx)(p.Z,{isOpen:n,children:(0,h.jsx)("div",{className:"sp1_modal-content-wrapper",children:(0,h.jsxs)("div",{className:"sp1_modal-panel",children:[(0,h.jsxs)("div",{className:"sp1_modal-head",children:[(0,h.jsx)("div",{className:"sp1_modal-title pl-2",children:(0,h.jsx)("strong",{children:"Report Details"})}),(0,h.jsx)(o.Z,{onClick:function(){return l(!1)},"aria-label":"ModalClose",variant:"tertiary",className:"sp1_modal-close",children:(0,h.jsx)("i",{className:"fa-solid fa-xmark"})})]}),(0,h.jsxs)("div",{className:"sp1_modal-body p-3",children:[(0,h.jsx)("div",{className:"ck-editor-holder",children:(0,h.jsx)(m.Z,{onChange:function(e,t){var r=t.getData();f(r)},placeholder:"Write your comment here!"})}),(0,h.jsx)("div",{className:"mt-3 d-flex align-items-center justify-content-end py-4",children:(0,h.jsxs)("div",{className:"ml-auto d-flex align-items-center w-fit",style:{gap:"10px"},children:[(0,h.jsx)(d.Z,{variant:"success",title:"Approve & Close",onClick:function(){return g()},isLoading:v,className:"ml-auto mr-2"}),(0,h.jsx)(d.Z,{title:"Deny & Close",onClick:function(){return g()},isLoading:v,className:"deny_button"})]})})]})]})})})})]})]})};var _=r(25518);function g(){return u().times(5,(function(e){return(0,h.jsxs)("tr",{className:"sp1_tasks_tr",children:[(0,h.jsx)("td",{className:"sp1_tasks_td",children:(0,h.jsx)(_.V,{width:"50px",height:"14px",className:"mb-1"})}),(0,h.jsxs)("td",{className:"sp1_tasks_td d-flex align-items-center",children:[(0,h.jsx)(_.V,{width:"24px",height:"24px",type:"circle",className:"mb-1 mr-2"}),(0,h.jsx)(_.V,{width:"80px",height:"13px",className:"mb-1"})]}),(0,h.jsxs)("td",{className:"sp1_tasks_td d-flex align-items-center",children:[(0,h.jsx)(_.V,{width:"24px",height:"24px",type:"circle",className:"mb-1 mr-2"}),(0,h.jsx)(_.V,{width:"80px",height:"13px",className:"mb-1"})]}),(0,h.jsxs)("td",{className:"sp1_tasks_td",children:[(0,h.jsx)(_.V,{width:"100%",height:"13px",className:"mb-1"}),(0,h.jsx)(_.V,{width:"60%",height:"13px",className:"mb-1"})]}),(0,h.jsxs)("td",{className:"sp1_tasks_td",children:[(0,h.jsx)(_.V,{width:"100%",height:"13px",className:"mb-1"}),(0,h.jsx)(_.V,{width:"100%",height:"13px",className:"mb-1"}),(0,h.jsx)(_.V,{width:"40%",height:"13px",className:"mb-1"})]}),(0,h.jsx)("td",{className:"sp1_tasks_td",children:(0,h.jsx)(_.V,{width:"80px",height:"13px",className:"mb-1"})}),(0,h.jsx)("td",{className:"sp1_tasks_td",children:(0,h.jsx)(_.V,{width:"80px",height:"20px",className:"mb-1"})}),(0,h.jsx)("td",{className:"sp1_tasks_td",children:(0,h.jsx)(_.V,{width:"80px",height:"20px",className:"mb-1"})})]},e)}))}var b=r(6589);function j(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,l,i=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(i.push(s.value),i.length!==t);o=!0);}catch(e){d=!0,n=e}finally{try{if(!o&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return i}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}const k=function(e){var t=e.reports,r=void 0===t?[]:t,o=(e.task,e.search),d=e.tableName,c=void 0===d?"sp1-table":d,p=e.isLoading,m=void 0===p||p,x=y(a.useState(j(r)),2),f=x[0],_=x[1],N=y(a.useState([]),2),w=N[0],k=N[1],S=y(a.useState({pageIndex:0,pageSize:10}),2),C=S[0],A=C.pageIndex,I=C.pageSize,V=S[1],R=a.useMemo((function(){return[{id:"serial_no",header:"Serial No.",accessorKey:"id",cell:function(e){return e.getValue()}},{id:"report_issuer",header:"Report Issuer",cell:function(e){var t=e.row,r=null==t?void 0:t.original;return(0,h.jsx)("span",{children:(0,h.jsx)(i.Z,{url:"/account/employees/".concat(null==r?void 0:r.added_by),name:null==r?void 0:r.report_issue_added_by,avatar:null==r?void 0:r.report_issue_added_by_avatar})})}},{id:"accountable_individual",header:"Accountable Individual",cell:function(e){var t=e.row,r=null==t?void 0:t.original;return(0,h.jsx)("span",{children:(0,h.jsx)(i.Z,{url:"/account/employees/".concat(null==r?void 0:r.person),name:null==r?void 0:r.responsible_person_name,avatar:null==r?void 0:r.responsible_person_avatar})})}},{id:"report_reason",header:"Report Reason",cell:function(e){var t=e.row,r=null==t?void 0:t.original;return(0,h.jsx)("span",{children:null==r?void 0:r.reason})}},{id:"report_reason_details",header:"Report Reason Details",cell:function(e){var t=e.row,r=null==t?void 0:t.original;return(0,h.jsx)("div",{className:"sp1_ck_content",dangerouslySetInnerHTML:{__html:null==r?void 0:r.comment}})}},{id:"pre_reported",header:"Previously Reported",cell:function(e){var t=e.row,r=null==t?void 0:t.original;return(0,h.jsx)("span",{children:null==r?void 0:r.previousNotedIssue})}},{id:"action",header:"Action",cell:function(e){var t=e.row,r=null==t?void 0:t.original;return(0,h.jsx)(v,{row:r})}}]})),M=y(a.useState(j(R)),1)[0],O=y(a.useState(u().map(M,"id")),2),Z=O[0],L=O[1],D=a.useMemo((function(){return{pageIndex:A,pageSize:I}}),[A,I]);a.useEffect((function(){_(j(r))}),[r]);var z=(0,s.b7)({data:f,columns:M,state:{sorting:w,columnOrder:Z,pagination:D,tableName:c,globalFilter:o},onPaginationChange:V,onSortingChange:k,onColumnOrderChange:L,getCoreRowModel:(0,n.sC)(),getPaginationRowModel:(0,n.G_)(),getFilteredRowModel:(0,n.vL)(),getSortedRowModel:(0,n.tj)()});return(0,h.jsxs)("div",{className:"sp1_tasks_table_wrapper sp1_tasks_report_table_wrapper",children:[(0,h.jsxs)("table",{className:"sp1_tasks_table sp1_tasks_report_table",children:[(0,h.jsx)("thead",{className:"sp1_tasks_thead",children:z.getHeaderGroups().map((function(e){return(0,h.jsx)("tr",{className:"sp1_tasks_tr",children:e.headers.map((function(e){return(0,h.jsx)(l.d,{header:e,table:z,className:"sp1_tasks_report_th"},e.id)}))},e.id)}))}),(0,h.jsxs)("tbody",{className:"sp1_tasks_tbody",children:[m&&(0,h.jsx)(g,{}),!m&&z.getRowModel().rows.map((function(e){return(0,h.jsx)("tr",{className:"sp1_tasks_tr",children:e.getVisibleCells().map((function(e){return(0,h.jsx)("td",{className:"px-2 sp1_tasks_td sp1_tasks_report_td",children:(0,s.ie)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)}))]})]}),!m&&0===u().size(f)&&(0,h.jsx)(b.Z,{})]})}}}]);
//# sourceMappingURL=425.js.map